import{ad as O,_ as A,r as p,k as M,c as d,b as t,w as o,a1 as j,e as r,h as R,F as Y,a0 as S,q as D,o as l,a2 as n,a as e,V as x,t as c,a4 as E,C as W,al as u}from"./index-kIM0J7p6.js";import{R as I}from"./report-CrlPRcYy.js";import{V as L}from"./VAlert-Bf6f0eKq.js";import"./createSimpleFunctional-D5yrpv8H.js";const q={async Dashboard(){return(await O.get("/home/charts")).data}},G={class:"box"},P={class:"icon-box"},Q={class:"my-2 d-flex justify-space-between align-center w-100"},J={key:1},K={class:"my-2 d-flex justify-space-between align-center"},X={key:1},Z={class:"my-2 d-flex justify-space-between align-center total"},$={key:1},ee={class:"box"},ae={class:"icon-box"},se={class:"my-2 d-flex justify-space-between align-center w-100"},te={key:1},le={class:"my-2 d-flex justify-space-between align-center"},oe={key:1},ie={class:"my-2 d-flex justify-space-between align-center total"},ne={key:1},de={class:"box"},re={class:"icon-box"},ce={class:"my-2 d-flex justify-space-between align-center w-100"},ue={key:1},pe={class:"my-2 d-flex justify-space-between align-center"},me={key:1},ve={class:"my-2 d-flex justify-space-between align-center total"},fe={key:1},ye={class:"box h-100"},_e={class:"icon-box"},he={class:"d-flex justify-space-between"},be={key:1},xe={class:"d-flex justify-space-between"},ke={key:1},ge={class:"d-flex justify-space-between"},we={key:1},Te={class:"d-flex justify-space-between"},Ve={key:1},Be={class:"d-flex justify-space-between stat-bold"},ze={key:1},Ue={class:"d-flex justify-space-between stat-bold"},Ce={key:1},je={class:"d-flex justify-end"},Se={class:"box"},De={class:"box"},We={class:"box"},Fe={__name:"OverviewView",setup(F){const v=p(!1),y=p(!1),i=p({successUsers:"-",failedUsers:"-",allUsers:"-",pendingsTransactions:"-",failedTransactions:"-",completeTransactions:"-",allTransActions:"-",allBuy:"-",allSell:"-",allWeight:"-",buyChart:{}}),f=p({startDate:"",startTime:"",endDate:"",endTime:""}),m=p({all:"-",sold:"-",bought:"-",allBalance:"-",succeedWithdraw:"-",deposit:"-"}),k=p(""),h=p(!1),g=p({chart:{fontFamily:"YekanBakhFaNum"},title:{text:"حجم معاملات ماهانه صندوق طلا",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},xaxis:{categories:[]}}),z=p([{name:"میزان فروش صندوق طلا",data:[],color:"#d4af37"}]),w=p({chart:{fontFamily:"YekanBakhFaNum"},title:{text:"حجم معاملات روزانه صندوق طلا",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},stroke:{curve:"smooth",width:3},xaxis:{categories:[]},colors:["#FF3131","#008000"]}),U=p([{name:"میزان فروش صندوق طلا",data:[]}]),T=p({chart:{type:"pie",fontFamily:"YekanBakhFaNum"},title:{text:"احراز هویت کاربران",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},colors:["#fcc428","#d4af37"],labels:[]}),C=p([]),V=s=>s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),N=async()=>{try{v.value=!0;const s=await q.Dashboard();return i.value.allBuy=s.data.allBuy,i.value.allSell=s.data.allSell,i.value.allTransActions=s.data.allTransActions,i.value.allUsers=s.data.allUsers,i.value.allWeight=s.data.allWeight,i.value.completeTransactions=s.data.completeTransactions,i.value.failedTransactions=s.data.failedTransactions,i.value.failedUsers=s.data.failedUsers,i.value.pendingsTransactions=s.data.pendingsTransactions,i.value.successUsers=s.data.successUsers,i.value.buyChart=s.data.buyChart,g.value={...g.value,xaxis:{categories:s.data.barChart.label}},z.value=[{name:"فروش ماهانه صندوق طلا",data:s.data.barChart.data}],w.value={...w.value,xaxis:{categories:s.data.lineChart.label}},U.value=[{name:"فروش ماهانه صندوق طلا",data:s.data.lineChart[0].data},{name:"خرید ماهانه صندوق طلا",data:s.data.lineChart[1].data}],T.value={...T.value,labels:s.data.pieChart.label},C.value=s.data.pieChart.data,s}catch(s){s.response.status==401&&(localStorage.clear(),S.replace("/login")),k.value=s.response.data.msg||"خطایی رخ داده است!",h.value=!0,setTimeout(()=>{h.value=!1},1e4)}finally{v.value=!1}},H=async()=>{try{y.value=!0;const s=await I.ReportHour(f.value);return m.value.all=s.data.all,m.value.bought=s.data.bought,m.value.deposit=s.data.deposit,m.value.allBalance=s.data.allBalance,m.value.sold=s.data.sold,m.value.succeedWithdraw=s.data.succeedWithdraw,s}catch(s){s.response.status==401&&(localStorage.clear(),S.replace("/login")),k.value=s.response.data.error||"خطایی رخ داده است!",h.value=!0,setTimeout(()=>{h.value=!1},1e4)}finally{y.value=!1}};return M(()=>{N()}),(s,a)=>{const b=D("persian-date-picker"),B=D("apexchart");return l(),d(Y,null,[t(j,null,{default:o(()=>[t(n,{cols:"12",md:"4"},{default:o(()=>[e("div",G,[e("div",P,[t(x,{icon:"ri-user-line",class:"icon"})]),e("div",Q,[a[4]||(a[4]=e("p",null,"کاربران احراز شده",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",J,c(i.value.successUsers)+" نفر",1))]),e("div",K,[a[5]||(a[5]=e("p",null,"کاربران در انتظار",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",X,c(i.value.failedUsers)+" نفر",1))]),e("div",Z,[a[6]||(a[6]=e("p",null,"همه کاربران",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",$,c(i.value.allUsers)+" نفر",1))])])]),_:1}),t(n,{cols:"12",md:"4"},{default:o(()=>[e("div",ee,[e("div",ae,[t(x,{icon:"ri-p2p-line",class:"icon"})]),e("div",se,[a[7]||(a[7]=e("p",null,"معاملات موفق",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",te,c(i.value.completeTransactions)+" معامله",1))]),e("div",le,[a[8]||(a[8]=e("p",null,"معاملات نامشخص",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",oe,c(i.value.pendingsTransactions)+" معامله",1))]),e("div",ie,[a[9]||(a[9]=e("p",null,"معاملات ناموفق",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",ne,c(i.value.failedTransactions)+" معامله",1))])])]),_:1}),t(n,{cols:"12",md:"4"},{default:o(()=>[e("div",de,[e("div",re,[t(x,{icon:"ri-exchange-dollar-fill",class:"icon"})]),e("div",ce,[a[10]||(a[10]=e("p",null,"طلای خریداری شده",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",ue,c(i.value.allBuy)+" گرم",1))]),e("div",pe,[a[11]||(a[11]=e("p",null,"طلای فروخته شده",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",me,c(i.value.allSell)+" گرم",1))]),e("div",ve,[a[12]||(a[12]=e("p",null,"مجموع طلای معامله شده",-1)),v.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",fe,c(i.value.allWeight)+" گرم",1))])])]),_:1}),t(n,{cols:"12"},{default:o(()=>[e("div",ye,[e("div",_e,[t(x,{icon:"ri-bar-chart-box-ai-line",class:"icon"})]),t(j,{class:"my-4"},{default:o(()=>[t(n,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[t(b,{modelValue:f.value.startDate,"onUpdate:modelValue":a[0]||(a[0]=_=>f.value.startDate=_),placeholder:"از تاریخ",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[t(b,{modelValue:f.value.endDate,"onUpdate:modelValue":a[1]||(a[1]=_=>f.value.endDate=_),placeholder:"تا تاریخ",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[t(b,{type:"time",modelValue:f.value.startTime,"onUpdate:modelValue":a[2]||(a[2]=_=>f.value.startTime=_),placeholder:"از زمان",format:"HH:mm:ss",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[t(b,{type:"time",modelValue:f.value.endTime,"onUpdate:modelValue":a[3]||(a[3]=_=>f.value.endTime=_),placeholder:"تا زمان",format:"HH:mm:ss",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",he,[a[13]||(a[13]=e("p",null,"طلای فروخته شده:",-1)),y.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",be,c(m.value.sold)+" گرم",1))])]),_:1}),t(n,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",xe,[a[14]||(a[14]=e("p",null,"طلای خریداری شده:",-1)),y.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",ke,c(m.value.bought)+" گرم",1))])]),_:1}),t(n,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",ge,[a[15]||(a[15]=e("p",null," مجموع موجودی های ریالی:",-1)),y.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",we,c(V(m.value.allBalance))+" تومان",1))])]),_:1}),t(n,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Te,[a[16]||(a[16]=e("p",null,"برداشت های تایید شده:",-1)),y.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",Ve,c(V(m.value.succeedWithdraw))+" تومان",1))])]),_:1}),t(n,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Be,[a[17]||(a[17]=e("p",null,"مجموع واریزی ها:",-1)),y.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",ze,c(V(m.value.deposit))+" تومان",1))])]),_:1}),t(n,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Ue,[a[18]||(a[18]=e("p",null,"خالص طلای معامله شده:",-1)),y.value?(l(),r(u,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),d("p",Ce,c(m.value.all)+" گرم",1))])]),_:1}),t(n,{cols:"12"},{default:o(()=>[e("div",je,[t(E,{class:"px-8",color:"#b08c4d",onClick:H},{default:o(()=>a[19]||(a[19]=[W("محاسبه")])),_:1})])]),_:1})]),_:1})])]),_:1}),t(n,{cols:"12",md:"6"},{default:o(()=>[e("div",Se,[t(B,{width:"100%",type:"bar",options:g.value,series:z.value},null,8,["options","series"])])]),_:1}),t(n,{cols:"12",md:"6"},{default:o(()=>[e("div",De,[t(B,{width:"100%",type:"line",options:w.value,series:U.value},null,8,["options","series"])])]),_:1}),t(n,{cols:"12",md:"4"},{default:o(()=>[e("div",We,[t(B,{width:"100%",type:"pie",options:T.value,series:C.value},null,8,["options","series"])])]),_:1})]),_:1}),h.value?(l(),r(L,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:o(()=>[W(c(k.value),1)]),_:1})):R("",!0)],64)}}},Me=A(Fe,[["__scopeId","data-v-9ccdc5ed"]]);export{Me as default};
