import{_ as Ze,r as m,B as Ke,c as h,b as a,w as t,$ as x,e as P,j as k,F as fe,s as Qe,o as f,a0 as o,a4 as Xe,a5 as R,a as u,a2 as y,D as p,V as T,t as c,Z as B,a6 as pe,a7 as el}from"./index-D6NN9nJi.js";import{G as U}from"./goldbox-4ZwNhnxK.js";import{G as ll}from"./price-L-wGVqbE.js";import{V as ge}from"./VAlert-CM1SafCA.js";import{V as ie}from"./VDialog-Ywdq8odI.js";import{V as al,a as tl,b as ul,c as ee,d as sl}from"./VStepper-WC6eYpqt.js";import{V as z,b as E}from"./VCard-tuau9v8j.js";import{V as M}from"./VForm-BGUNR3RF.js";import{V as W}from"./VTextField-BX-aWGtp.js";import{V as le}from"./VSelect-DWmwU3hD.js";import{V as ol,a as be,b as nl,c as Ve}from"./VTabs-S1h74ilb.js";import{V as ye}from"./VTextarea-B7inynOy.js";import{V as Ne}from"./VDivider-BlIGU16d.js";import"./api-BFxn_2R2.js";import"./createSimpleFunctional-CmpqCwaW.js";import"./dialog-transition-kGvKCl72.js";import"./index-ByxnNLuS.js";import"./index-Ce-FaU_b.js";import"./VAvatar-cwbRiH4K.js";import"./VImg-C4t8BfhI.js";import"./VWindowItem-GPkkCiVA.js";import"./VMenu-LTn4vSWV.js";import"./VSelectionControl-JGB9LPR1.js";import"./VChip-BARVuehg.js";const il={class:"w-100 d-flex justify-space-between align-items-center"},dl={key:0,class:"d-flex"},rl={key:1,class:"d-flex"},vl={key:1,class:"d-flex"},ml={class:"mb-0"},cl={class:"d-flex"},fl={class:"mb-0"},pl={class:"d-flex"},gl={class:"mb-0"},bl={class:"d-flex"},Vl={key:0,class:"mb-0"},yl={key:1,class:"mb-0"},Nl={class:"d-flex"},Pl={class:"mb-0"},_l={class:"d-flex"},xl={class:"mb-0"},kl={class:"d-flex"},wl={class:"mb-0"},Cl={class:"d-flex"},Sl={class:"mb-0"},Il={class:"d-flex"},hl={class:"w-100 d-flex justify-space-between align-items-center"},Wl={class:"d-flex justify-end my-1"},Tl={class:"livePrice-box"},Bl={class:"d-flex justify-center align-center h-100"},Ul={class:"d-flex justify-start align-center h-100"},zl={class:"w-100 d-flex justify-space-between align-items-center"},Dl={class:"d-flex justify-end my-1"},Fl={class:"livePrice-box"},jl={class:"d-flex justify-center align-center h-100"},Gl={class:"w-100 d-flex justify-space-between align-items-center"},Ll={class:"trade-step-title"},$l={class:"invoice-box"},Hl={class:"invoice-box"},Al={class:"invoice-box"},Rl={class:"invoice-box"},El={class:"invoice-box"},Ml={class:"invoice-box"},Yl={class:"invoice-box"},Ol={class:"invoice-box"},ql={class:"invoice-box"},Jl={class:"invoice-box"},Zl={key:0},Kl={class:"invoice-box"},Ql={class:"invoice-box"},Xl={class:"invoice-box"},ea={__name:"goldboxTradeView",setup(la){const Y=m(null),V=m(1),Pe=[1,2,3,4],ae=m(!1),te=m(!1),ue=m(!1),D=m(!1),w=m(!1),O=m(!1),F=m(),j=m(),G=m(),C=m(""),_e=m(""),g=m(!1),xe=m(!1),q=m(!1),J=m(""),ke=m([{label:"کشاورزی 4675 (محمود معصومی)",value:"5"},{label:"کشاورزی 6236 (محمود معصومی)",value:"9"},{label:"کشاورزی 6780 (محمود معصومی)",value:"10"},{label:"کشاورزی (مطهر معصومی)",value:"0"},{label:"ملی (مطهر معصومی)",value:"1"},{label:"ملت (مطهر معصومی)",value:"2"},{label:"سپه (مطهر معصومی)",value:"3"},{label:"صادرات (مطهر معصومی)",value:"4"},{label:"ملی (محمود معصومی)",value:"6"},{label:"ملت (محمود معصومی)",value:"7"},{label:"سایر",value:"8"}]),i=m({type:"",goldPrice:"",goldWeight:"",totalPrice:"",date:"",time:"",adminId:"",wallet:{goldWeight:"",balance:"",blocked:""},user:{firstName:"",lastName:"",fatherName:"",phoneNumber:"",nationalCode:""}}),S=m({phoneNumber:""}),d=m({userId:"",goldPrice:"",goldWeight:"",description:"",totalPrice:"",invoiceId:"",destCardPan:""}),v=m({userId:"",goldPrice:"",goldWeight:"",description:"",totalPrice:"",invoiceId:""}),r=m({date:"",time:"",buyPrice:"",sellPrice:"",milliseconds:""}),N=m({userExist:"",userVerified:""}),n=m({id:"",firstName:"",birthDate:"",lastName:"",fatherName:"",gender:"",officeName:"",phoneNumber:"",nationalCode:"",isHaveBank:""}),we=m([{name:"1",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5},{name:"6",value:6},{name:"7",value:7},{name:"8",value:8},{name:"9",value:9},{name:"10",value:10},{name:"11",value:11},{name:"12",value:12},{name:"13",value:13},{name:"14",value:14},{name:"15",value:15},{name:"16",value:16},{name:"17",value:17},{name:"18",value:18},{name:"19",value:19},{name:"20",value:20},{name:"21",value:21},{name:"22",value:22},{name:"23",value:23},{name:"24",value:24},{name:"25",value:25},{name:"26",value:26},{name:"27",value:27},{name:"28",value:28},{name:"29",value:29},{name:"30",value:30},{name:"31",value:31}]),Ce=m([{name:"فروردین",value:1},{name:"اردیبهشت",value:2},{name:"خرداد",value:3},{name:"تیر",value:4},{name:"مرداد",value:5},{name:"شهریور",value:6},{name:"مهر",value:7},{name:"آبان",value:8},{name:"آذر",value:9},{name:"دی",value:10},{name:"بهمن",value:11},{name:"اسفند",value:12}]),Se=m([{name:"1300",value:1300},{name:"1301",value:1301},{name:"1302",value:1302},{name:"1303",value:1303},{name:"1304",value:1304},{name:"1305",value:1305},{name:"1306",value:1306},{name:"1307",value:1307},{name:"1308",value:1308},{name:"1309",value:1309},{name:"1310",value:1310},{name:"1311",value:1311},{name:"1312",value:1312},{name:"1313",value:1313},{name:"1314",value:1314},{name:"1315",value:1315},{name:"1316",value:1316},{name:"1317",value:1317},{name:"1318",value:1318},{name:"1319",value:1319},{name:"1320",value:1320},{name:"1321",value:1321},{name:"1322",value:1322},{name:"1323",value:1323},{name:"1324",value:1324},{name:"1325",value:1325},{name:"1326",value:1326},{name:"1327",value:1327},{name:"1328",value:1328},{name:"1329",value:1329},{name:"1330",value:1330},{name:"1331",value:1331},{name:"1332",value:1332},{name:"1333",value:1333},{name:"1334",value:1334},{name:"1335",value:1335},{name:"1336",value:1336},{name:"1337",value:1337},{name:"1338",value:1338},{name:"1339",value:1339},{name:"1340",value:1340},{name:"1341",value:1341},{name:"1342",value:1342},{name:"1343",value:1343},{name:"1344",value:1344},{name:"1345",value:1345},{name:"1346",value:1346},{name:"1347",value:1347},{name:"1348",value:1348},{name:"1349",value:1349},{name:"1350",value:1350},{name:"1351",value:1351},{name:"1352",value:1352},{name:"1353",value:1353},{name:"1354",value:1354},{name:"1355",value:1355},{name:"1356",value:1356},{name:"1357",value:1357},{name:"1358",value:1358},{name:"1359",value:1359},{name:"1360",value:1360},{name:"1361",value:1361},{name:"1362",value:1362},{name:"1363",value:1363},{name:"1364",value:1364},{name:"1365",value:1365},{name:"1366",value:1366},{name:"1367",value:1367},{name:"1368",value:1368},{name:"1369",value:1369},{name:"1370",value:1370},{name:"1371",value:1371},{name:"1372",value:1372},{name:"1373",value:1373},{name:"1374",value:1374},{name:"1375",value:1375},{name:"1376",value:1376},{name:"1377",value:1377},{name:"1378",value:1378},{name:"1379",value:1379},{name:"1380",value:1380},{name:"1381",value:1381},{name:"1382",value:1382},{name:"1383",value:1383},{name:"1384",value:1384},{name:"1385",value:1385},{name:"1386",value:1386},{name:"1387",value:1387},{name:"1388",value:1388},{name:"1389",value:1389},{name:"1390",value:1390},{name:"1391",value:1391},{name:"1392",value:1392},{name:"1393",value:1393},{name:"1394",value:1394},{name:"1395",value:1395},{name:"1396",value:1396},{name:"1397",value:1397},{name:"1398",value:1398},{name:"1399",value:1399},{name:"1400",value:1400},{name:"1401",value:1401},{name:"1402",value:1402},{name:"1403",value:1403}]),Z=m({}),L=l=>l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Ie=l=>{F.value=l,se()},he=l=>{j.value=l,se()},We=l=>{G.value=l,se()},se=()=>{if(G.value&&j.value&&F.value){const l=String(j.value).padStart(2,"0"),e=String(F.value).padStart(2,"0");n.value.birthDate=`${G.value}${l}${e}`}},Te=async()=>{try{ue.value=!0;const l=await U.AuthNumberTradeGoldbox(S.value.phoneNumber);return N.value.userExist=l.data.userExist,N.value.userVerified=l.data.userVerified,n.value.id=l.data.user.id,n.value.firstName=l.data.user.firstName,n.value.lastName=l.data.user.lastName,n.value.fatherName=l.data.user.fatherName,n.value.gender=l.data.user.gender,n.value.officeName=l.data.user.officeName,n.value.phoneNumber=l.data.user.phoneNumber,n.value.nationalCode=l.data.user.nationalCode,n.value.isHaveBank=l.data.user.isHaveBank,n.value.birthDate=l.data.user.birthDate,l}catch(l){C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{ue.value=!1}},Be=async()=>{try{w.value=!0,d.value.userId=n.value.id,d.value.goldPrice=r.value.buyPrice,d.value.destCardPan=="سایر"&&(d.value.destCardPan=J.value);const l=await U.CreateInvoiceTradeBuy(d.value);return i.value.type="خرید",i.value.adminId=l.data.invoice.adminId,i.value.date=l.data.invoice.date,i.value.time=l.data.invoice.time,i.value.goldPrice=l.data.invoice.goldPrice,i.value.goldWeight=l.data.invoice.goldWeight,i.value.totalPrice=l.data.invoice.totalPrice,i.value.user.firstName=l.data.invoice.buyer.firstName,i.value.user.lastName=l.data.invoice.buyer.lastName,i.value.user.fatherName=l.data.invoice.buyer.fatherName,i.value.user.nationalCode=l.data.invoice.buyer.nationalCode,i.value.user.phoneNumber=l.data.invoice.buyer.phoneNumber,i.value.wallet.balance=l.data.invoice.buyer.wallet.balance,i.value.wallet.blocked=l.data.invoice.buyer.wallet.blocked,i.value.wallet.goldWeight=l.data.invoice.buyer.wallet.goldWeight,l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{w.value=!1}},Ue=async()=>{try{w.value=!0,d.value.destCardPan=="سایر"&&(d.value.destCardPan=J.value);const l=await U.SubmitInvoiceTradeBuy(d.value);return ve(),l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{w.value=!1}},ze=async()=>{try{w.value=!0,v.value.userId=n.value.id,v.value.goldPrice=r.value.buyPrice;const l=await U.CreateInvoiceTradeSell(v.value);return i.value.type="فروش",i.value.adminId=l.data.invoice.adminId,i.value.date=l.data.invoice.date,i.value.time=l.data.invoice.time,i.value.goldPrice=l.data.invoice.goldPrice,i.value.goldWeight=l.data.invoice.goldWeight,i.value.totalPrice=l.data.invoice.totalPrice,i.value.user.firstName=l.data.invoice.seller.firstName,i.value.user.lastName=l.data.invoice.seller.lastName,i.value.user.fatherName=l.data.invoice.seller.fatherName,i.value.user.nationalCode=l.data.invoice.seller.nationalCode,i.value.user.phoneNumber=l.data.invoice.seller.phoneNumber,i.value.wallet.balance=l.data.invoice.seller.wallet.balance,i.value.wallet.blocked=l.data.invoice.seller.wallet.blocked,i.value.wallet.goldWeight=l.data.invoice.seller.wallet.goldWeight,l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{w.value=!1}},De=async()=>{try{w.value=!0,v.value.userId=n.value.id,v.value.goldPrice=r.value.buyPrice;const l=await U.SubmitInvoiceTradeSell(v.value);return ve(),l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{w.value=!1}},Fe=async l=>{if(V.value===1)return await Te();if(V.value===2)return!0;if(V.value===3)return l=="buy"?await Be():await ze();if(V.value===4)return i.value.type=="خرید"?await Ue():await De()},je=async()=>{if(N.value.userExist==!0)try{D.value=!0,n.value.phoneNumber=S.value.phoneNumber;const l=await U.AuthIdentityOldUser(n.value);return n.value.fatherName=l.data.fatherName,n.value.gender=l.data.gender,n.value.isHaveBank=l.data.isHaveBank,n.value.officeName=l.data.officeName,n.value.firstName=l.data.firstName,n.value.lastName=l.data.lastName,n.value.id=l.data.id,N.value.userVerified=!0,l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{D.value=!1}else try{D.value=!0,n.value.phoneNumber=S.value.phoneNumber;const l=await U.AuthIdentityNewUser(n.value);return n.value.fatherName=l.data.fatherName,n.value.gender=l.data.gender,n.value.isHaveBank=l.data.isHaveBank,n.value.officeName=l.data.officeName,n.value.firstName=l.data.firstName,n.value.lastName=l.data.lastName,n.value.id=l.data.id,N.value.userVerified=!0,l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{D.value=!1}},Ge=[l=>!!l||"شماره همراه الزامی است",l=>/^09\d{9}$/.test(l)||"شماره معتبر نیست"],de=[l=>!!l||"کد ملی الزامی است",l=>/^\d{10}$/.test(l)||"کد ملی باید ۱۰ رقم باشد",l=>{if(!/^\d{10}$/.test(l))return!0;const e=+l[9],b=l.split("").slice(0,9).reduce((s,I,_)=>s+ +I*(10-_),0)%11;return b<2&&e===b||b>=2&&e+b===11||"کد ملی نامعتبر است"}],re=[l=>!!l||"مقدار ورودی نمی‌تواند خالی باشد"],Le=[l=>!!l||"حساب بانکی را انتخاب کنید!"],$e=()=>{n.value.nationalCode=n.value.nationalCode.replace(/\D/g,"").slice(0,10),de.every(l=>l(n.value.nationalCode)===!0)},$=(l,e)=>{l&&(Z.value[e]=l)},He=()=>{S.value.phoneNumber=S.value.phoneNumber.replace(/\D/g,"").slice(0,11)},oe=l=>l<V.value,K=Ke(()=>Z.value[V.value]?Z.value[V.value].isValid:!1),H=async l=>{const e=Z.value[V.value];if(e){const{valid:b}=await e.validate();b&&await Fe(l)&&V.value++}},Q=()=>{V.value>1&&V.value--,F.value="",j.value="",G.value="",n.value.nationalCode=""},ve=async()=>{q.value=!0,setInterval(()=>{q.value=!1,S.value.phoneNumber="",V.value=1},3e3)},Ae=()=>{const[l,e,b]=r.value.date.split("/").map(Number),[s,I]=r.value.time.split(":").map(Number),_=el.toGregorian(l,e,b),ne=new Date(_.gy,_.gm-1,_.gd,s,I,0);r.value.milliseconds=ne.getTime()},me=async()=>{Ae();try{O.value=!0;const l=await ll.GoldPriceByTime(r.value.milliseconds);return r.value.buyPrice=l.buyPrice,r.value.sellPrice=l.sellPrice,l}catch(l){l.response.status==401&&(localStorage.clear(),B.replace("/login")),C.value=l.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{O.value=!1}},X=l=>l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),ce=l=>l.replace(/,/g,""),Re=l=>{const e=l.target.selectionStart,b=d.value.totalPrice.length,s=ce(d.value.totalPrice).replace(/[^0-9]/g,""),I=parseInt(s||0);d.value.goldWeight=(I/r.value.buyPrice).toFixed(4);const _=X(I);d.value.totalPrice=_,pe(()=>{const A=_.length-b;l.target.setSelectionRange(e+A,e+A)})},Ee=()=>{d.value.goldWeight=d.value.goldWeight.replace(/[^0-9.]/g,"");const l=d.value.goldWeight.split(".");l.length>1&&(d.value.goldWeight=l[0]+"."+l.slice(1).join("")),l.length>1&&l[1].length>2&&(d.value.goldWeight=l[0]+"."+l[1].slice(0,3)),d.value.totalPrice=parseInt(d.value.goldWeight*r.value.buyPrice);const e=parseInt(d.value.goldWeight*r.value.buyPrice);d.value.totalPrice=X(e)},Me=l=>{const e=l.target.selectionStart,b=v.value.totalPrice.length,s=ce(v.value.totalPrice).replace(/[^0-9]/g,""),I=parseInt(s||0);v.value.goldWeight=(I/r.value.sellPrice).toFixed(4);const _=X(I);v.value.totalPrice=_,pe(()=>{const A=_.length-b;l.target.setSelectionRange(e+A,e+A)})},Ye=()=>{v.value.goldWeight=v.value.goldWeight.replace(/[^0-9.]/g,"");const l=v.value.goldWeight.split(".");l.length>1&&(v.value.goldWeight=l[0]+"."+l.slice(1).join("")),l.length>1&&l[1].length>2&&(v.value.goldWeight=l[0]+"."+l[1].slice(0,3)),v.value.totalPrice=parseInt(v.value.goldWeight*r.value.sellPrice);const e=parseInt(v.value.goldWeight*r.value.sellPrice);v.value.totalPrice=X(e)},Oe=()=>{te.value=!0},qe=()=>{ae.value=!0},Je=()=>{r.value.time="",r.value.date="",r.value.milliseconds="",r.value.buyPrice="",r.value.sellPrice="",d.value.description="",d.value.destCardPan="",d.value.goldPrice="",d.value.goldWeight="",d.value.invoiceId="",d.value.totalPrice="",v.value.description="",v.value.goldPrice="",v.value.goldWeight="",v.value.invoiceId="",v.value.totalPrice=""};return(l,e)=>{const b=Qe("persian-date-picker");return f(),h(fe,null,[a(x,{class:"k-row"},{default:t(()=>[a(o,{cols:"12"},{default:t(()=>[a(al,{modelValue:V.value,"onUpdate:modelValue":e[23]||(e[23]=s=>V.value=s)},{default:t(()=>[a(tl,null,{default:t(()=>[(f(),h(fe,null,Xe(Pe,s=>a(sl,{key:s,complete:oe(s),title:`مرحله ${s}`,value:s,icon:oe(s)?"ri-check-line":"ri-close-line",color:oe(s)?"#0b8707":"#c7c3c3",class:"custom-stepper-icon"},null,8,["complete","title","value","icon","color"])),64))]),_:1}),a(ul,null,{default:t(()=>[a(ee,{value:1},{default:t(()=>[a(z,{class:"step-card"},{default:t(()=>[a(M,{ref:s=>$(s,1)},{default:t(()=>[a(R,null,{default:t(()=>[a(x,null,{default:t(()=>[a(o,{cols:"12"},{default:t(()=>e[27]||(e[27]=[u("div",{class:"d-flex"},[u("h3",{class:"trade-step-title"},"احراز هویت")],-1)])),_:1}),a(o,{cols:"12",md:"4",class:"d-none d-md-flex"}),a(o,{cols:"12",md:"4"},{default:t(()=>[a(W,{modelValue:S.value.phoneNumber,"onUpdate:modelValue":e[0]||(e[0]=s=>S.value.phoneNumber=s),label:"شماره همراه",variant:"outlined",rules:Ge,onInput:He},null,8,["modelValue"])]),_:1}),a(o,{cols:"12",md:"4",class:"d-none d-md-flex"})]),_:1})]),_:1})]),_:1},512),a(E,{class:"btn-box first-step"},{default:t(()=>[a(y,{onClick:H,color:"primary",size:"large",variant:"elevated",loading:ue.value,disabled:!K.value},{default:t(()=>e[28]||(e[28]=[p(" بعدی ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),a(ee,{value:2},{default:t(()=>[a(z,{class:"step-card"},{default:t(()=>[a(M,{ref:s=>$(s,2)},{default:t(()=>[a(R,null,{default:t(()=>[a(x,null,{default:t(()=>[a(o,{cols:"12"},{default:t(()=>[u("div",il,[e[31]||(e[31]=u("h3",{class:"trade-step-title"},"اطلاعات کاربر",-1)),N.value.userVerified?(f(),h("div",dl,[e[29]||(e[29]=u("p",{class:"mb-0"},"کاربر احراز هویت شده است",-1)),a(T,{class:"me-2",size:"small",icon:"ri-check-line",color:"#0b8707"})])):(f(),h("div",rl,[e[30]||(e[30]=u("p",{class:"mb-0"},"کاربر احراز هویت نشده است",-1)),a(T,{class:"me-2",size:"small",icon:"ri-close-line",color:"#c9190c"})]))])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[N.value.userVerified==!1?(f(),P(W,{key:0,modelValue:n.value.nationalCode,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.nationalCode=s),label:"کد ملی",variant:"outlined",rules:de,onInput:$e},null,8,["modelValue"])):(f(),h("div",vl,[e[32]||(e[32]=u("p",{class:"mb-0"},"کد ملی : ",-1)),u("p",ml,c(n.value.nationalCode),1)]))]),_:1}),N.value.userVerified==!1?(f(),P(o,{key:0,cols:"4",md:"3",class:"my-3"})):k("",!0),N.value.userVerified==!1?(f(),P(o,{key:1,cols:"4",md:"2",class:"my-3"},{default:t(()=>[a(le,{modelValue:F.value,"onUpdate:modelValue":[e[2]||(e[2]=s=>F.value=s),Ie],label:"روز تولد",items:we.value,variant:"outlined","item-title":"name","item-value":"value",class:"first-select",rules:[s=>!!s||"روز الزامی است"]},null,8,["modelValue","items","rules"])]),_:1})):k("",!0),N.value.userVerified==!1?(f(),P(o,{key:2,cols:"4",md:"2",class:"my-3"},{default:t(()=>[a(le,{modelValue:j.value,"onUpdate:modelValue":[e[3]||(e[3]=s=>j.value=s),he],label:"ماه تولد",items:Ce.value,variant:"outlined",class:"second-select","item-title":"name","item-value":"value",rules:[s=>!!s||"ماه الزامی است"]},null,8,["modelValue","items","rules"])]),_:1})):k("",!0),N.value.userVerified==!1?(f(),P(o,{key:3,cols:"4",md:"2",class:"my-3"},{default:t(()=>[a(le,{modelValue:G.value,"onUpdate:modelValue":[e[4]||(e[4]=s=>G.value=s),We],label:"سال تولد",items:Se.value,variant:"outlined",class:"third-select","item-title":"name","item-value":"value",rules:[s=>!!s||"سال الزامی است"]},null,8,["modelValue","items","rules"])]),_:1})):k("",!0),N.value.userVerified==!0?(f(),P(o,{key:4,cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",cl,[e[33]||(e[33]=u("p",{class:"mb-0"},"تاریخ تولد : ",-1)),u("p",fl,c(n.value.birthDate),1)])]),_:1})):k("",!0),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",pl,[e[34]||(e[34]=u("p",{class:"mb-0"},"شماره همراه : ",-1)),u("p",gl,c(S.value.phoneNumber),1)])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",bl,[e[35]||(e[35]=u("p",{class:"mb-0"},"جنسیت : ",-1)),n.value.gender==!0?(f(),h("p",Vl,"مرد")):n.value.gender==!1?(f(),h("p",yl,"زن")):k("",!0)])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",Nl,[e[36]||(e[36]=u("p",{class:"mb-0"},"نام : ",-1)),u("p",Pl,c(n.value.firstName),1)])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",_l,[e[37]||(e[37]=u("p",{class:"mb-0"},"نام خانوادگی : ",-1)),u("p",xl,c(n.value.lastName),1)])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",kl,[e[38]||(e[38]=u("p",{class:"mb-0"},"نام پدر : ",-1)),u("p",wl,c(n.value.fatherName),1)])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",Cl,[e[39]||(e[39]=u("p",{class:"mb-0"},"شهر : ",-1)),u("p",Sl,c(n.value.officeName),1)])]),_:1}),a(o,{cols:"12",md:"3",class:"my-3"},{default:t(()=>[u("div",Il,[e[40]||(e[40]=u("p",{class:"mb-0"},"کارت بانکی : ",-1)),n.value.isHaveBank==!1?(f(),P(T,{key:0,size:"small",icon:"ri-close-line",color:"#c9190c"})):n.value.isHaveBank==!0?(f(),P(T,{key:1,size:"small",icon:"ri-check-line",color:"#0b8707"})):k("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},512),a(E,{class:"btn-box"},{default:t(()=>[a(y,{onClick:Q,size:"large"},{default:t(()=>e[41]||(e[41]=[p("قبلی")])),_:1}),N.value.userVerified==!1?(f(),P(y,{key:0,onClick:je,color:"primary",size:"large",variant:"elevated",disabled:!K.value,loading:D.value},{default:t(()=>e[42]||(e[42]=[p(" استعلام هویت ")])),_:1},8,["disabled","loading"])):(f(),P(y,{key:1,onClick:H,color:"primary",size:"large",variant:"elevated",loading:D.value},{default:t(()=>e[43]||(e[43]=[p(" بعدی ")])),_:1},8,["loading"]))]),_:1})]),_:1})]),_:1}),a(ee,{value:3},{default:t(()=>[a(z,{class:"step-card"},{default:t(()=>[a(ol,{modelValue:Y.value,"onUpdate:modelValue":[e[5]||(e[5]=s=>Y.value=s),Je]},{default:t(()=>[a(be,{value:"one"},{default:t(()=>e[44]||(e[44]=[p("خرید")])),_:1}),a(be,{value:"two"},{default:t(()=>e[45]||(e[45]=[p("فروش")])),_:1})]),_:1},8,["modelValue"]),a(nl,{modelValue:Y.value,"onUpdate:modelValue":e[21]||(e[21]=s=>Y.value=s)},{default:t(()=>[a(Ve,{value:"one"},{default:t(()=>[a(M,{ref:s=>$(s,3)},{default:t(()=>[a(R,null,{default:t(()=>[a(x,null,{default:t(()=>[a(o,{cols:"12"},{default:t(()=>[u("div",hl,[e[47]||(e[47]=u("h3",{class:"trade-step-title"},"ثبت خرید",-1)),u("div",Wl,[a(y,{color:"#930506",size:"small",class:"info-btn",onClick:Oe},{default:t(()=>e[46]||(e[46]=[p("راهنما")])),_:1})])])]),_:1})]),_:1}),a(x,{class:""},{default:t(()=>[a(o,{cols:"12",md:"3"},{default:t(()=>[a(b,{modelValue:r.value.date,"onUpdate:modelValue":e[6]||(e[6]=s=>r.value.date=s),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[a(b,{type:"time",modelValue:r.value.time,"onUpdate:modelValue":e[7]||(e[7]=s=>r.value.time=s),placeholder:"زمان"},null,8,["modelValue"])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[u("div",Tl,[e[48]||(e[48]=u("p",null,"قیمت طلا : ",-1)),u("p",null,c(L(r.value.buyPrice))+" تومان",1)])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[a(y,{onClick:me,class:"h-100",color:"primary",size:"large",variant:"elevated",block:"",loading:O.value},{default:t(()=>e[49]||(e[49]=[p(" استعلام قیمت طلا ")])),_:1},8,["loading"])]),_:1})]),_:1}),a(x,null,{default:t(()=>[a(o,{cols:"12",md:"3"},{default:t(()=>[a(W,{modelValue:d.value.totalPrice,"onUpdate:modelValue":e[8]||(e[8]=s=>d.value.totalPrice=s),label:"مبلغ (تومان)",variant:"outlined",onInput:Re,disabled:r.value.buyPrice==""},null,8,["modelValue","disabled"])]),_:1}),a(o,{cols:"12",md:"2"},{default:t(()=>[u("div",Bl,[a(T,{class:"me-2",size:"small",icon:"ri-arrow-left-right-line",color:"#0b8707"})])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[a(W,{modelValue:d.value.goldWeight,"onUpdate:modelValue":e[9]||(e[9]=s=>d.value.goldWeight=s),label:"وزن (گرم)",variant:"outlined",rules:re,onInput:Ee,disabled:r.value.buyPrice==""},null,8,["modelValue","disabled"])]),_:1}),a(o,{cols:"12",md:"4"},{default:t(()=>[a(W,{modelValue:d.value.invoiceId,"onUpdate:modelValue":e[10]||(e[10]=s=>d.value.invoiceId=s),label:"شناسه پرداخت",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[u("div",Ul,[a(le,{modelValue:d.value.destCardPan,"onUpdate:modelValue":e[11]||(e[11]=s=>d.value.destCardPan=s),items:ke.value,label:"به حساب",variant:"outlined",rules:Le,"item-title":"label","item-value":"item"},null,8,["modelValue","items"])])]),_:1}),d.value.destCardPan=="سایر"?(f(),P(o,{key:0,cols:"12",md:"3"},{default:t(()=>[a(W,{modelValue:J.value,"onUpdate:modelValue":e[12]||(e[12]=s=>J.value=s),label:"به حساب",variant:"outlined"},null,8,["modelValue"])]),_:1})):k("",!0),a(o,{cols:"12"},{default:t(()=>[a(ye,{label:"توضیحات (اختیاری)",variant:"outlined",modelValue:d.value.description,"onUpdate:modelValue":e[13]||(e[13]=s=>d.value.description=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512),a(E,{class:"btn-box"},{default:t(()=>[a(y,{onClick:Q,size:"large"},{default:t(()=>e[50]||(e[50]=[p("قبلی")])),_:1}),a(y,{onClick:e[14]||(e[14]=s=>H("buy")),color:"primary",size:"large",variant:"elevated",disabled:!K.value,loading:w.value},{default:t(()=>e[51]||(e[51]=[p(" خرید ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1}),a(Ve,{value:"two"},{default:t(()=>[a(M,{ref:s=>$(s,3)},{default:t(()=>[a(R,null,{default:t(()=>[a(x,null,{default:t(()=>[a(o,{cols:"12"},{default:t(()=>[u("div",zl,[e[53]||(e[53]=u("h3",{class:"trade-step-title"},"ثبت فروش",-1)),u("div",Dl,[a(y,{color:"#930506",size:"small",class:"info-btn",onClick:qe},{default:t(()=>e[52]||(e[52]=[p("راهنما")])),_:1})])])]),_:1})]),_:1}),a(x,{class:""},{default:t(()=>[a(o,{cols:"12",md:"3"},{default:t(()=>[a(b,{modelValue:r.value.date,"onUpdate:modelValue":e[15]||(e[15]=s=>r.value.date=s),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[a(b,{type:"time",modelValue:r.value.time,"onUpdate:modelValue":e[16]||(e[16]=s=>r.value.time=s),placeholder:"زمان"},null,8,["modelValue"])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[u("div",Fl,[e[54]||(e[54]=u("p",null,"قیمت طلا : ",-1)),u("p",null,c(L(r.value.sellPrice))+" تومان",1)])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[a(y,{onClick:me,class:"h-100",color:"primary",size:"large",variant:"elevated",block:"",loading:O.value},{default:t(()=>e[55]||(e[55]=[p(" استعلام قیمت طلا ")])),_:1},8,["loading"])]),_:1})]),_:1}),a(x,null,{default:t(()=>[a(o,{cols:"12",md:"3"},{default:t(()=>[a(W,{modelValue:v.value.totalPrice,"onUpdate:modelValue":e[17]||(e[17]=s=>v.value.totalPrice=s),label:"مبلغ (تومان)",variant:"outlined",onInput:Me,disabled:r.value.sellPrice==""},null,8,["modelValue","disabled"])]),_:1}),a(o,{cols:"12",md:"2"},{default:t(()=>[u("div",jl,[a(T,{class:"me-2",size:"small",icon:"ri-arrow-left-right-line",color:"#0b8707"})])]),_:1}),a(o,{cols:"12",md:"3"},{default:t(()=>[a(W,{modelValue:v.value.goldWeight,"onUpdate:modelValue":e[18]||(e[18]=s=>v.value.goldWeight=s),label:"وزن (گرم)",variant:"outlined",rules:re,onInput:Ye,disabled:r.value.sellPrice==""},null,8,["modelValue","disabled"])]),_:1}),a(o,{cols:"12"},{default:t(()=>[a(ye,{label:"توضیحات (اختیاری)",variant:"outlined",modelValue:v.value.description,"onUpdate:modelValue":e[19]||(e[19]=s=>v.value.description=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512),a(E,{class:"btn-box"},{default:t(()=>[a(y,{onClick:Q,size:"large"},{default:t(()=>e[56]||(e[56]=[p("قبلی")])),_:1}),a(y,{onClick:e[20]||(e[20]=s=>H("sell")),color:"primary",size:"large",variant:"elevated",disabled:!K.value,loading:w.value},{default:t(()=>e[57]||(e[57]=[p(" فروش ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(ee,{value:4},{default:t(()=>[a(z,{class:"step-card"},{default:t(()=>[a(M,{ref:s=>$(s,4)},{default:t(()=>[a(R,null,{default:t(()=>[a(x,null,{default:t(()=>[a(o,{cols:"12"},{default:t(()=>[u("div",Gl,[u("h3",Ll,"فاکتور "+c(i.value.type),1)])]),_:1})]),_:1}),a(x,null,{default:t(()=>[a(o,{cols:"12"},{default:t(()=>e[58]||(e[58]=[u("div",{class:"d-flex"},[u("h4",null,"اطلاعات کاربر")],-1)])),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",$l,[e[59]||(e[59]=u("p",null,"نام : ",-1)),u("p",null,c(i.value.user.firstName),1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Hl,[e[60]||(e[60]=u("p",null,"نام خانوادگی : ",-1)),u("p",null,c(i.value.user.lastName),1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Al,[e[61]||(e[61]=u("p",null,"نام پدر : ",-1)),u("p",null,c(i.value.user.fatherName),1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Rl,[e[62]||(e[62]=u("p",null,"کد ملی : ",-1)),u("p",null,c(i.value.user.nationalCode),1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",El,[e[63]||(e[63]=u("p",null," شماره همراه : ",-1)),u("p",null,c(i.value.user.phoneNumber),1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Ml,[e[64]||(e[64]=u("p",null,"کارشناس : ",-1)),u("p",null,c(i.value.adminId),1)])]),_:1}),a(Ne),a(o,{cols:"12"},{default:t(()=>e[65]||(e[65]=[u("div",{class:"d-flex"},[u("h4",null,"اطلاعات معامله")],-1)])),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Yl,[e[66]||(e[66]=u("p",null,"وزن طلا : ",-1)),u("p",null,c(i.value.goldWeight)+" گرم",1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Ol,[e[67]||(e[67]=u("p",null,"قیمت طلا : ",-1)),u("p",null,c(L(i.value.goldPrice))+" تومان",1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",ql,[e[68]||(e[68]=u("p",null,"قیمت کل : ",-1)),u("p",null,c(L(i.value.totalPrice))+" تومان",1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Jl,[e[69]||(e[69]=u("p",null,"به حساب : ",-1)),i.value.type=="خرید"?(f(),h("p",Zl,c(d.value.destCardPan),1)):k("",!0)])]),_:1}),a(Ne),a(o,{cols:"12"},{default:t(()=>e[70]||(e[70]=[u("div",{class:"d-flex"},[u("h4",null,"اطلاعات کیف پول")],-1)])),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Kl,[e[71]||(e[71]=u("p",null," موجودی کیف پول : ",-1)),u("p",null,c(L(i.value.wallet.balance))+" تومان",1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Ql,[e[72]||(e[72]=u("p",null,"دارایی طلا: ",-1)),u("p",null,c(i.value.wallet.goldWeight)+" گرم",1)])]),_:1}),a(o,{cols:"6",md:"3"},{default:t(()=>[u("div",Xl,[e[73]||(e[73]=u("p",null,"مبلغ در انتظار برداشت : ",-1)),u("p",null,c(L(i.value.wallet.blocked))+" تومان",1)])]),_:1})]),_:1})]),_:1})]),_:1},512),a(E,{class:"btn-box"},{default:t(()=>[a(y,{onClick:Q,size:"large"},{default:t(()=>e[74]||(e[74]=[p("قبلی")])),_:1}),a(y,{onClick:e[22]||(e[22]=s=>H()),color:"primary",size:"large",variant:"elevated"},{default:t(()=>e[75]||(e[75]=[p(" ثبت ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),g.value?(f(),P(ge,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:t(()=>[p(c(C.value),1)]),_:1})):k("",!0),xe.value?(f(),P(ge,{key:1,color:"success",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:t(()=>[p(c(_e.value),1)]),_:1})):k("",!0),a(ie,{modelValue:q.value,"onUpdate:modelValue":e[24]||(e[24]=s=>q.value=s),"max-width":"500",persistent:""},{default:t(()=>[a(z,{title:"تایید فاکتور",class:"modal-card"},{default:t(()=>[a(T,{class:"mt-3 mb-6",icon:"ri-checkbox-circle-fill",color:"#0b8707"}),u("h4",null," فاکتور "+c(i.value.user.firstName)+" "+c(i.value.user.lastName)+" با موفقیت ثبت شد ",1)]),_:1})]),_:1},8,["modelValue"]),a(ie,{"max-width":"500",modelValue:te.value,"onUpdate:modelValue":e[25]||(e[25]=s=>te.value=s)},{default:t(()=>[a(z,{class:"guideSectionStyle"},{default:t(()=>e[76]||(e[76]=[u("h2",{class:"guideSection-title"},"راهنما ثبت معامله تلفنی",-1),u("ul",null,[u("li",null," در ابتدا لازم است دو بخش مربوط به تاریخ و زمان را ثبت کنید تا امکان فعال‌سازی کادر استعلام قیمت طلا فراهم شود. "),u("li",null," مبلغی که کاربر پرداخت می‌کند، باید حتماً به همان حسابی که هنگام ثبت سفارش مشخص شده است واریز شود. "),u("li",null," زمان ثبت معامله باید حتماً در همان لحظه انجام شود. ")],-1)])),_:1})]),_:1},8,["modelValue"]),a(ie,{"max-width":"500",modelValue:ae.value,"onUpdate:modelValue":e[26]||(e[26]=s=>ae.value=s)},{default:t(()=>[a(z,{class:"guideSectionStyle"},{default:t(()=>e[77]||(e[77]=[u("h2",{class:"guideSection-title"},"راهنما ثبت فروش معامله تلفنی",-1),u("ul",null,[u("li",null," در ابتدا لازم است دو بخش مربوط به تاریخ و زمان را ثبت کنید تا امکان فعال‌سازی کادر استعلام قیمت طلا فراهم شود. "),u("li",null," قیمت فروش طلا با یک درصد کارمزد نمایش داده می شود. "),u("li",null," زمان ثبت معامله باید حتماً در همان لحظه انجام شود. ")],-1)])),_:1})]),_:1},8,["modelValue"])],64)}}},Ca=Ze(ea,[["__scopeId","data-v-f4bd1574"]]);export{Ca as default};
