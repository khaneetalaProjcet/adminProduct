import{_ as R,r as s,e as d,w as u,a3 as S,q as B,o as r,b as t,a1 as y,a2 as o,a as n,h as m,c as k,a6 as j,F,a4 as H,C as N,a7 as E,a0 as L,t as M}from"./index-CNGuQgXK.js";import{R as P}from"./report-CACkF-Vn.js";import{V as q}from"./VForm-TRPXjg88.js";import{V as v}from"./VSelect-97v8uZiU.js";import{V as G}from"./VTextField-ZmT1imj_.js";import"./index-CA7l4tGC.js";import"./VMenu-BzdTreEt.js";import"./index-uQ5zdSFH.js";import"./createSimpleFunctional-CvlayjlF.js";import"./VAvatar-CXG8IhfJ.js";import"./VImg-CvoUVe2M.js";import"./VDivider-BKbp3VfP.js";import"./dialog-transition-rCT7XgeG.js";import"./VSelectionControl-0WItEJ0C.js";import"./VChip-mw5eyxBQ.js";const I={class:"d-flex flex-column justify-start"},z=["href"],A={class:"d-flex justify-end"},J={__name:"TotalReportView",setup(K){const f=s(!1),T=s(""),b=s(!1),e=s({report:1,startDate:"",startTime:"",endDate:"",endTime:"",type:"all",deal:"all",status:"all",nationalCode:"",auth:""}),V=s({link:[]}),_=s([{value:1,label:"واریز و برداشت"},{value:2,label:"معاملات"},{value:3,label:"کاربران"},{value:4,label:"گزارش گیری ساعتی"}]),g=s([{value:"all",label:"همه"},{value:"deposit",label:"واریز"},{value:"withdraw",label:"برداشت"}]),x=s([{value:"all",label:"همه"},{value:"sell",label:"فروش"},{value:"buy",label:"خرید"}]),w=s([{value:"all",label:"همه"},{value:"approved",label:"احراز شده"},{value:"pebding",label:"در انتظار احراز"}]),U=s([{value:"all",label:"همه"},{value:"fromPhone",label:"تلفنی"},{value:"inPerson",label:"حضوری"},{value:"fromGateway",label:"آنلاین"}]),C=s([{value:"all",label:"همه"},{value:"completed",label:"موفق"},{value:"failed",label:"ناموفق"},{value:"pending",label:"در انتظار"}]),D=async()=>{try{f.value=!0;const i=await P.ReportSubmit(e.value);return V.value.link.push(i[1]),i}catch(i){i.response.status==401&&(localStorage.clear(),L.replace("/login")),T.value=i.response.data.error||"خطایی رخ داده است!",b.value=!0,setTimeout(()=>{b.value=!1},1e4)}finally{f.value=!1}};return(i,l)=>{const p=B("persian-date-picker");return r(),d(q,{onSubmit:S(D,["prevent"])},{default:u(()=>[t(E,{class:"filter-container"},{default:u(()=>[t(y,null,{default:u(()=>[t(o,{cols:"6",md:"4",class:"my-3"},{default:u(()=>[t(v,{modelValue:e.value.report,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.report=a),items:_.value,label:"نوع گزارش",variant:"outlined",rules:[a=>!!a||"حداقل یک مورد الزامیست"],"item-title":"label","item-value":"value"},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),e.value.report!=4?(r(),d(y,{key:0},{default:u(()=>[t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>l[11]||(l[11]=[n("div",{class:"d-flex justify-start align-center"},[n("p",{class:"mb-0"},"زمان شروع: ")],-1)])),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{modelValue:e.value.startDate,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.startDate=a),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{type:"time",modelValue:e.value.startTime,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.startTime=a),placeholder:"زمان",format:"HH:mm:ss"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>l[12]||(l[12]=[n("div",{class:"d-flex justify-start align-center"},[n("p",{class:"mb-0"},"زمان پایان: ")],-1)])),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{modelValue:e.value.endDate,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.endDate=a),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{type:"time",modelValue:e.value.endTime,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.endTime=a),placeholder:"زمان",format:"HH:mm:ss"},null,8,["modelValue"])]),_:1}),e.value.report==1?(r(),d(o,{key:0,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.type,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.type=a),items:g.value,label:"نوع انتقال",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report==2?(r(),d(o,{key:1,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.type,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.type=a),items:x.value,label:"نوع معامله",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report==2?(r(),d(o,{key:2,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.deal,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.deal=a),items:U.value,label:"نوع ثبت",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report!=3?(r(),d(o,{key:3,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.status,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.status=a),items:C.value,label:"وضعیت",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report!=3?(r(),d(o,{key:4,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(G,{modelValue:e.value.nationalCode,"onUpdate:modelValue":l[9]||(l[9]=a=>e.value.nationalCode=a),label:"کد ملی",variant:"outlined"},null,8,["modelValue"])]),_:1})):m("",!0),e.value.report==3?(r(),d(o,{key:5,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.auth,"onUpdate:modelValue":l[10]||(l[10]=a=>e.value.auth=a),items:w.value,label:"وضعیت کاربران",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0)]),_:1})):m("",!0),t(y,null,{default:u(()=>[t(o,{cols:"12"},{default:u(()=>[n("div",I,[V.value.link!=""?(r(!0),k(F,{key:0},j(V.value.link,(a,c)=>(r(),k("a",{class:"download-link my-1",key:c,href:a},"دانلود گزارش "+M(c+1),9,z))),128)):m("",!0)])]),_:1}),t(o,{cols:"12"},{default:u(()=>[n("div",A,[t(H,{type:"submit",loading:f.value},{default:u(()=>l[13]||(l[13]=[N("ایجاد گزارش")])),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1})}}},re=R(J,[["__scopeId","data-v-ab402c8b"]]);export{re as default};
