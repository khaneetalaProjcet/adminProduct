import{_ as ol,r as c,B as nl,c as C,b as l,w as a,$ as S,e as P,j as h,F as he,s as dl,o as g,a0 as n,a4 as il,a5 as le,a as u,a2 as _,u as ce,D as V,V as B,t as p,Z as ae,a6 as Ue,a7 as rl}from"./index-B6MF1goH.js";import{G as ml}from"./price-BhOnp199.js";import{R as fe}from"./remiitance-BGDMD1Ov.js";import{V as vl}from"./VAlert-CucF2uLW.js";import{V as we}from"./VDialog-Cq2rIxKu.js";import{V as cl,a as fl,b as pl,c as pe,d as gl}from"./VStepper-B0d48mTH.js";import{V as T,b as te}from"./VCard-BxPPLnk1.js";import{V as ue}from"./VForm-KbCnrBUb.js";import{V as W}from"./VTextField-caiuB5Mt.js";import{V as ge}from"./VSelect-CPGBu7U2.js";import{V as bl,a as Be,b as Vl,c as Te}from"./VTabs-DyL63eCK.js";import{V as se}from"./VDivider-gZi565z_.js";import{V as De}from"./VTextarea-ChECtfgW.js";import"./createSimpleFunctional-BG5oSdIn.js";import"./dialog-transition-CHmF5J1H.js";import"./index-Dra35soL.js";import"./index-mfNwc0Xz.js";import"./VAvatar-RsdyiQwv.js";import"./VImg-BnlVpBrd.js";import"./VWindowItem-BCGZyesG.js";import"./VMenu-DXeFdzM_.js";import"./VSelectionControl-HncgUk05.js";const yl={class:"w-100 d-flex justify-space-between align-items-center"},Nl={key:0,class:"d-flex"},Pl={key:1,class:"d-flex"},_l={key:1,class:"d-flex"},xl={class:"mb-0"},kl={class:"d-flex"},wl={class:"mb-0"},Cl={class:"d-flex"},Sl={class:"mb-0"},Wl={class:"d-flex"},Il={key:0,class:"mb-0"},hl={key:1,class:"mb-0"},Ul={class:"d-flex"},Bl={class:"mb-0"},Tl={class:"d-flex"},Dl={class:"mb-0"},zl={class:"d-flex"},jl={class:"mb-0"},Fl={class:"d-flex"},Rl={class:"mb-0"},Ll={class:"d-flex"},Gl={class:"w-100 d-flex justify-space-between align-items-center"},$l={class:"d-flex justify-end my-1"},Al={class:"d-flex justify-center align-center h-100"},Hl={class:"d-flex justify-start align-center h-100"},El={class:"w-100 d-flex justify-space-between align-items-center"},Ml={class:"d-flex justify-end my-1"},Yl={class:"d-flex justify-center align-center h-100"},ql={class:"w-100 d-flex justify-space-between align-items-center"},Jl={class:"trade-step-title"},Ol={class:"invoice-box"},Zl={class:"invoice-box"},Kl={class:"invoice-box"},Ql={class:"invoice-box"},Xl={class:"invoice-box"},ea={class:"invoice-box"},la={class:"invoice-box"},aa={class:"invoice-box"},ta={class:"invoice-box"},ua={class:"invoice-box"},sa={key:0},oa={key:1},na={class:"invoice-box"},da={key:0},ia={key:1},ra={class:"invoice-box"},ma={class:"invoice-box"},va={class:"invoice-box"},ca={__name:"remittanceTradeView",setup(fa){const ze=c([1,2,3,4]),y=c(1),oe=c({}),D=c(null),be=c(!1),Ve=c(!1),ye=c(!1),ne=c(!1),z=c(!1),de=c(!1),ie=c(!1),j=c(),F=c(),R=c(),x=c(!1),L=c(""),Ne=c("");c("");const U=c({phoneNumber:""}),i=c({id:"",firstName:"",birthDate:"",lastName:"",fatherName:"",gender:"",officeName:"",phoneNumber:"",nationalCode:"",isHaveBank:""}),v=c({date:"",time:"",buyPrice:"",sellPrice:"",milliseconds:""}),r=c({userId:"",goldPrice:"",goldWeight:"",description:"",totalPrice:"",invoiceId:"",phoneNumber:"",destCardPan:"",date:"",time:""}),m=c({userId:"",goldPrice:"",goldWeight:"",description:"",totalPrice:"",invoiceId:"",phoneNumber:"",date:"",time:""}),d=c({type:"",goldPrice:"",goldWeight:"",totalPrice:"",date:"",time:"",adminId:"",wallet:{goldWeight:"",balance:""},user:{firstName:"",lastName:"",fatherName:"",phoneNumber:"",nationalCode:""}}),k=c({userExist:"",userVerified:""}),je=c([{label:"کشاورزی (مطهر معصومی)",value:"0"},{label:"ملی (مطهر معصومی)",value:"1"},{label:"ملت (مطهر معصومی)",value:"2"},{label:"سپه (مطهر معصومی)",value:"3"},{label:"صادرات (مطهر معصومی)",value:"4"},{label:"کشاورزی (محمود معصومی)",value:"5"},{label:"ملی (محمود معصومی)",value:"6"},{label:"ملت (محمود معصومی)",value:"7"},{label:"سایر",value:"8"}]),Fe=c([{name:"1",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5},{name:"6",value:6},{name:"7",value:7},{name:"8",value:8},{name:"9",value:9},{name:"10",value:10},{name:"11",value:11},{name:"12",value:12},{name:"13",value:13},{name:"14",value:14},{name:"15",value:15},{name:"16",value:16},{name:"17",value:17},{name:"18",value:18},{name:"19",value:19},{name:"20",value:20},{name:"21",value:21},{name:"22",value:22},{name:"23",value:23},{name:"24",value:24},{name:"25",value:25},{name:"26",value:26},{name:"27",value:27},{name:"28",value:28},{name:"29",value:29},{name:"30",value:30},{name:"31",value:31}]),Re=c([{name:"فروردین",value:1},{name:"اردیبهشت",value:2},{name:"خرداد",value:3},{name:"تیر",value:4},{name:"مرداد",value:5},{name:"شهریور",value:6},{name:"مهر",value:7},{name:"آبان",value:8},{name:"آذر",value:9},{name:"دی",value:10},{name:"بهمن",value:11},{name:"اسفند",value:12}]),Le=c([{name:"1300",value:1300},{name:"1301",value:1301},{name:"1302",value:1302},{name:"1303",value:1303},{name:"1304",value:1304},{name:"1305",value:1305},{name:"1306",value:1306},{name:"1307",value:1307},{name:"1308",value:1308},{name:"1309",value:1309},{name:"1310",value:1310},{name:"1311",value:1311},{name:"1312",value:1312},{name:"1313",value:1313},{name:"1314",value:1314},{name:"1315",value:1315},{name:"1316",value:1316},{name:"1317",value:1317},{name:"1318",value:1318},{name:"1319",value:1319},{name:"1320",value:1320},{name:"1321",value:1321},{name:"1322",value:1322},{name:"1323",value:1323},{name:"1324",value:1324},{name:"1325",value:1325},{name:"1326",value:1326},{name:"1327",value:1327},{name:"1328",value:1328},{name:"1329",value:1329},{name:"1330",value:1330},{name:"1331",value:1331},{name:"1332",value:1332},{name:"1333",value:1333},{name:"1334",value:1334},{name:"1335",value:1335},{name:"1336",value:1336},{name:"1337",value:1337},{name:"1338",value:1338},{name:"1339",value:1339},{name:"1340",value:1340},{name:"1341",value:1341},{name:"1342",value:1342},{name:"1343",value:1343},{name:"1344",value:1344},{name:"1345",value:1345},{name:"1346",value:1346},{name:"1347",value:1347},{name:"1348",value:1348},{name:"1349",value:1349},{name:"1350",value:1350},{name:"1351",value:1351},{name:"1352",value:1352},{name:"1353",value:1353},{name:"1354",value:1354},{name:"1355",value:1355},{name:"1356",value:1356},{name:"1357",value:1357},{name:"1358",value:1358},{name:"1359",value:1359},{name:"1360",value:1360},{name:"1361",value:1361},{name:"1362",value:1362},{name:"1363",value:1363},{name:"1364",value:1364},{name:"1365",value:1365},{name:"1366",value:1366},{name:"1367",value:1367},{name:"1368",value:1368},{name:"1369",value:1369},{name:"1370",value:1370},{name:"1371",value:1371},{name:"1372",value:1372},{name:"1373",value:1373},{name:"1374",value:1374},{name:"1375",value:1375},{name:"1376",value:1376},{name:"1377",value:1377},{name:"1378",value:1378},{name:"1379",value:1379},{name:"1380",value:1380},{name:"1381",value:1381},{name:"1382",value:1382},{name:"1383",value:1383},{name:"1384",value:1384},{name:"1385",value:1385},{name:"1386",value:1386},{name:"1387",value:1387},{name:"1388",value:1388},{name:"1389",value:1389},{name:"1390",value:1390},{name:"1391",value:1391},{name:"1392",value:1392},{name:"1393",value:1393},{name:"1394",value:1394},{name:"1395",value:1395},{name:"1396",value:1396},{name:"1397",value:1397},{name:"1398",value:1398},{name:"1399",value:1399},{name:"1400",value:1400},{name:"1401",value:1401},{name:"1402",value:1402},{name:"1403",value:1403}]),Ge=async()=>{ie.value=!0,setInterval(()=>{ie.value=!1,U.value.phoneNumber="",y.value=1},3e3)},Pe=t=>t<y.value,re=nl(()=>{if(!oe.value[y.value])return!1;if(y.value===3){if(D.value==="one"){const t=!!r.value.date,e=!!r.value.time;return t&&e}else if(D.value==="two"){const t=!!m.value.date,e=!!m.value.time;return t&&e}}return oe.value[y.value].isValid}),G=(t,e)=>{t&&(oe.value[e]=t)},me=async t=>{const e=oe.value[y.value];if(e){const{valid:f}=await e.validate();f&&await $e(t)&&y.value++}},$e=async t=>{if(y.value===1)return await Ee();if(y.value===2)return!0;if(y.value===3)return t=="buy"?await Ae():await He();if(y.value===4)return!0},Ae=async()=>{var t,e,f,s,N,b,I,w,$,A,H,E,M,Y,q,J,O,Z,K,Q,X,ee;try{z.value=!0,r.value.userId=i.value.id,r.value.goldPrice=v.value.buyPrice,r.value.phoneNumber=i.value.phoneNumber,r.value.destCardPan=="سایر"&&(r.value.destCardPan=Ne.value);const o=await fe.CreateRemiitanceBuy(r.value);return d.value.type="خرید",d.value.adminId=(t=o==null?void 0:o.data)==null?void 0:t.adminId,d.value.date=(e=o==null?void 0:o.data)==null?void 0:e.date,d.value.time=(f=o==null?void 0:o.data)==null?void 0:f.time,d.value.goldPrice=(s=o==null?void 0:o.data)==null?void 0:s.goldPrice,d.value.goldWeight=(N=o==null?void 0:o.data)==null?void 0:N.goldWeight,d.value.totalPrice=(b=o==null?void 0:o.data)==null?void 0:b.totalPrice,d.value.user.firstName=(w=(I=o==null?void 0:o.data)==null?void 0:I.buyer)==null?void 0:w.firstName,d.value.user.lastName=(A=($=o==null?void 0:o.data)==null?void 0:$.buyer)==null?void 0:A.lastName,d.value.user.fatherName=(E=(H=o==null?void 0:o.data)==null?void 0:H.buyer)==null?void 0:E.fatherName,d.value.user.nationalCode=(Y=(M=o==null?void 0:o.data)==null?void 0:M.buyer)==null?void 0:Y.nationalCode,d.value.user.phoneNumber=(J=(q=o==null?void 0:o.data)==null?void 0:q.buyer)==null?void 0:J.phoneNumber,d.value.wallet.balance=(K=(Z=(O=o==null?void 0:o.data)==null?void 0:O.buyer)==null?void 0:Z.wallet)==null?void 0:K.balance,d.value.wallet.goldWeight=(ee=(X=(Q=o==null?void 0:o.data)==null?void 0:Q.buyer)==null?void 0:X.wallet)==null?void 0:ee.goldWeight,o}catch(o){o.response.status==401&&(localStorage.clear(),ae.replace("/login")),L.value=o.response.data.error||"خطایی رخ داده است!",x.value=!0,setTimeout(()=>{x.value=!1},1e4)}finally{z.value=!1}},He=async()=>{var t,e,f,s,N,b,I,w,$,A,H,E,M,Y,q,J,O,Z,K,Q,X,ee;try{z.value=!0,m.value.userId=i.value.id,m.value.goldPrice=v.value.buyPrice,m.value.phoneNumber=i.value.phoneNumber;const o=await fe.CreateRemiitanceSell(m.value);return d.value.type="فروش",d.value.adminId=(t=o==null?void 0:o.data)==null?void 0:t.adminId,d.value.date=(e=o==null?void 0:o.data)==null?void 0:e.date,d.value.time=(f=o==null?void 0:o.data)==null?void 0:f.time,d.value.goldPrice=(s=o==null?void 0:o.data)==null?void 0:s.goldPrice,d.value.goldWeight=(N=o==null?void 0:o.data)==null?void 0:N.goldWeight,d.value.totalPrice=(b=o==null?void 0:o.data)==null?void 0:b.totalPrice,d.value.user.firstName=(w=(I=o==null?void 0:o.data)==null?void 0:I.seller)==null?void 0:w.firstName,d.value.user.lastName=(A=($=o==null?void 0:o.data)==null?void 0:$.seller)==null?void 0:A.lastName,d.value.user.fatherName=(E=(H=o==null?void 0:o.data)==null?void 0:H.seller)==null?void 0:E.fatherName,d.value.user.nationalCode=(Y=(M=o==null?void 0:o.data)==null?void 0:M.seller)==null?void 0:Y.nationalCode,d.value.user.phoneNumber=(J=(q=o==null?void 0:o.data)==null?void 0:q.seller)==null?void 0:J.phoneNumber,d.value.wallet.balance=(K=(Z=(O=o==null?void 0:o.data)==null?void 0:O.seller)==null?void 0:Z.wallet)==null?void 0:K.balance,d.value.wallet.goldWeight=(ee=(X=(Q=o==null?void 0:o.data)==null?void 0:Q.seller)==null?void 0:X.wallet)==null?void 0:ee.goldWeight,o}catch(o){o.response.status==401&&(localStorage.clear(),ae.replace("/login")),L.value=o.response.data.error||"خطایی رخ داده است!",x.value=!0,setTimeout(()=>{x.value=!1},1e4)}finally{z.value=!1}},Ee=async()=>{try{ye.value=!0;const t=await fe.AuthNumberRemiitance(U.value.phoneNumber);return k.value.userExist=t.data.userExist,k.value.userVerified=t.data.userVerified,i.value.id=t.data.user.id,i.value.firstName=t.data.user.firstName,i.value.lastName=t.data.user.lastName,i.value.fatherName=t.data.user.fatherName,i.value.gender=t.data.user.gender,i.value.officeName=t.data.user.officeName,i.value.phoneNumber=t.data.user.phoneNumber,i.value.nationalCode=t.data.user.nationalCode,i.value.isHaveBank=t.data.user.isHaveBank,i.value.birthDate=t.data.user.birthDate,t}catch(t){t.response.status==401&&(localStorage.clear(),ae.replace("/login")),L.value=t.response.data.error||"خطایی رخ داده است!",x.value=!0,setTimeout(()=>{x.value=!1},1e4)}finally{ye.value=!1}},Me=async()=>{try{ne.value=!0,i.value.phoneNumber=U.value.phoneNumber;const t=await fe.AuthIdentityUser(i.value);return i.value.fatherName=t.data.fatherName,i.value.gender=t.data.gender,i.value.isHaveBank=t.data.isHaveBank,i.value.officeName=t.data.officeName,i.value.firstName=t.data.firstName,i.value.lastName=t.data.lastName,k.value.userVerified=!0,t}catch(t){t.response.status==401&&(localStorage.clear(),ae.replace("/login")),L.value=t.response.data.error||"خطایی رخ داده است!",x.value=!0,setTimeout(()=>{x.value=!1},1e4)}finally{ne.value=!1}},Ye=()=>{const[t,e,f]=v.value.date.split("/").map(Number),[s,N]=v.value.time.split(":").map(Number),b=rl.toGregorian(t,e,f),I=new Date(b.gy,b.gm-1,b.gd,s,N,0);v.value.milliseconds=I.getTime()},Ce=async()=>{Ye();try{de.value=!0;const t=await ml.GoldPriceByTime(v.value.milliseconds);return v.value.buyPrice=t.buyPrice,v.value.sellPrice=t.sellPrice,t}catch(t){t.response.status==401&&(localStorage.clear(),ae.replace("/login")),L.value=t.response.data.error||"خطایی رخ داده است!",x.value=!0,setTimeout(()=>{x.value=!1},1e4)}finally{de.value=!1}},_e=()=>{y.value>1&&y.value--,j.value="",F.value="",R.value="",i.value.nationalCode=""},qe=[t=>!!t||"شماره همراه الزامی است",t=>/^09\d{9}$/.test(t)||"شماره معتبر نیست"],Se=[t=>!!t||"کد ملی الزامی است",t=>/^\d{10}$/.test(t)||"کد ملی باید ۱۰ رقم باشد",t=>{if(!/^\d{10}$/.test(t))return!0;const e=+t[9],f=t.split("").slice(0,9).reduce((s,N,b)=>s+ +N*(10-b),0)%11;return f<2&&e===f||f>=2&&e+f===11||"کد ملی نامعتبر است"}],We=[t=>!!t||"مقدار ورودی نمی‌تواند خالی باشد"],Je=[t=>!!t||"حساب بانکی را انتخاب کنید!"],Oe=()=>{i.value.nationalCode=i.value.nationalCode.replace(/\D/g,"").slice(0,10),Se.every(t=>t(i.value.nationalCode)===!0)},Ze=()=>{U.value.phoneNumber=U.value.phoneNumber.replace(/\D/g,"").slice(0,11)},Ke=t=>{j.value=t,xe()},Qe=t=>{F.value=t,xe()},Xe=t=>{R.value=t,xe()},xe=()=>{if(R.value&&F.value&&j.value){const t=String(F.value).padStart(2,"0"),e=String(j.value).padStart(2,"0");i.value.birthDate=`${R.value}${t}${e}`}},ke=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),ve=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Ie=t=>t.replace(/,/g,""),el=t=>{const e=t.target.selectionStart,f=r.value.totalPrice.length,s=Ie(r.value.totalPrice).replace(/[^0-9]/g,""),N=parseInt(s||0);r.value.goldWeight=(N/v.value.buyPrice).toFixed(4);const b=ve(N);r.value.totalPrice=b,Ue(()=>{const w=b.length-f;t.target.setSelectionRange(e+w,e+w)})},ll=()=>{r.value.goldWeight=r.value.goldWeight.replace(/[^0-9.]/g,"");const t=r.value.goldWeight.split(".");t.length>1&&(r.value.goldWeight=t[0]+"."+t.slice(1).join("")),t.length>1&&t[1].length>2&&(r.value.goldWeight=t[0]+"."+t[1].slice(0,3)),r.value.totalPrice=parseInt(r.value.goldWeight*v.value.buyPrice);const e=parseInt(r.value.goldWeight*v.value.buyPrice);r.value.totalPrice=ve(e)},al=t=>{const e=t.target.selectionStart,f=m.value.totalPrice.length,s=Ie(m.value.totalPrice).replace(/[^0-9]/g,""),N=parseInt(s||0);m.value.goldWeight=(N/v.value.sellPrice).toFixed(4);const b=ve(N);m.value.totalPrice=b,Ue(()=>{const w=b.length-f;t.target.setSelectionRange(e+w,e+w)})},tl=()=>{m.value.goldWeight=m.value.goldWeight.replace(/[^0-9.]/g,"");const t=m.value.goldWeight.split(".");t.length>1&&(m.value.goldWeight=t[0]+"."+t.slice(1).join("")),t.length>1&&t[1].length>2&&(m.value.goldWeight=t[0]+"."+t[1].slice(0,3)),m.value.totalPrice=parseInt(m.value.goldWeight*v.value.sellPrice);const e=parseInt(m.value.goldWeight*v.value.sellPrice);m.value.totalPrice=ve(e)},ul=()=>{be.value=!0},sl=()=>{Ve.value=!0};return(t,e)=>{const f=dl("persian-date-picker");return g(),C(he,null,[l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(cl,{modelValue:y.value,"onUpdate:modelValue":e[28]||(e[28]=s=>y.value=s)},{default:a(()=>[l(fl,null,{default:a(()=>[(g(!0),C(he,null,il(ze.value,s=>(g(),P(gl,{key:s,complete:Pe(s),title:`مرحله ${s}`,value:s,icon:Pe(s)?"ri-check-line":"ri-close-line",color:Pe(s)?"#0b8707":"#c7c3c3",class:"custom-stepper-icon"},null,8,["complete","title","value","icon","color"]))),128))]),_:1}),l(pl,null,{default:a(()=>[l(pe,{value:1},{default:a(()=>[l(T,{class:"step-card"},{default:a(()=>[l(ue,{ref:s=>G(s,1)},{default:a(()=>[l(le,null,{default:a(()=>[l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>e[32]||(e[32]=[u("div",{class:"d-flex"},[u("h3",{class:"trade-step-title"},"احراز هویت")],-1)])),_:1}),l(n,{cols:"12",md:"4",class:"d-none d-md-flex"}),l(n,{cols:"12",md:"4"},{default:a(()=>[l(W,{modelValue:U.value.phoneNumber,"onUpdate:modelValue":e[0]||(e[0]=s=>U.value.phoneNumber=s),label:"شماره همراه",variant:"outlined",rules:qe,onInput:Ze},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"4",class:"d-none d-md-flex"})]),_:1})]),_:1})]),_:1},512),l(te,{class:"btn-box first-step"},{default:a(()=>[l(_,{onClick:me,color:"primary",size:"large",variant:"elevated",loading:ye.value,disabled:!ce(re)},{default:a(()=>e[33]||(e[33]=[V(" بعدی ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),l(pe,{value:2},{default:a(()=>[l(T,{class:"step-card"},{default:a(()=>[l(ue,{ref:s=>G(s,2)},{default:a(()=>[l(le,null,{default:a(()=>[l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[u("div",yl,[e[36]||(e[36]=u("h3",{class:"trade-step-title"},"اطلاعات کاربر",-1)),k.value.userVerified?(g(),C("div",Nl,[e[34]||(e[34]=u("p",{class:"mb-0"},"کاربر احراز هویت شده است",-1)),l(B,{class:"me-2",size:"small",icon:"ri-check-line",color:"#0b8707"})])):(g(),C("div",Pl,[e[35]||(e[35]=u("p",{class:"mb-0"},"کاربر احراز هویت نشده است",-1)),l(B,{class:"me-2",size:"small",icon:"ri-close-line",color:"#c9190c"})]))])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[k.value.userVerified==!1?(g(),P(W,{key:0,modelValue:i.value.nationalCode,"onUpdate:modelValue":e[1]||(e[1]=s=>i.value.nationalCode=s),label:"کد ملی",variant:"outlined",rules:Se,onInput:Oe},null,8,["modelValue"])):(g(),C("div",_l,[e[37]||(e[37]=u("p",{class:"mb-0"},"کد ملی : ",-1)),u("p",xl,p(i.value.nationalCode),1)]))]),_:1}),k.value.userVerified==!1?(g(),P(n,{key:0,cols:"4",md:"3",class:"my-3"})):h("",!0),k.value.userVerified==!1?(g(),P(n,{key:1,cols:"4",md:"2",class:"my-3"},{default:a(()=>[l(ge,{modelValue:j.value,"onUpdate:modelValue":[e[2]||(e[2]=s=>j.value=s),Ke],label:"روز تولد",items:Fe.value,variant:"outlined","item-title":"name","item-value":"value",class:"first-select",rules:[s=>!!s||"روز الزامی است"]},null,8,["modelValue","items","rules"])]),_:1})):h("",!0),k.value.userVerified==!1?(g(),P(n,{key:2,cols:"4",md:"2",class:"my-3"},{default:a(()=>[l(ge,{modelValue:F.value,"onUpdate:modelValue":[e[3]||(e[3]=s=>F.value=s),Qe],label:"ماه تولد",items:Re.value,variant:"outlined",class:"second-select","item-title":"name","item-value":"value",rules:[s=>!!s||"ماه الزامی است"]},null,8,["modelValue","items","rules"])]),_:1})):h("",!0),k.value.userVerified==!1?(g(),P(n,{key:3,cols:"4",md:"2",class:"my-3"},{default:a(()=>[l(ge,{modelValue:R.value,"onUpdate:modelValue":[e[4]||(e[4]=s=>R.value=s),Xe],label:"سال تولد",items:Le.value,variant:"outlined",class:"third-select","item-title":"name","item-value":"value",rules:[s=>!!s||"سال الزامی است"]},null,8,["modelValue","items","rules"])]),_:1})):h("",!0),k.value.userVerified==!0?(g(),P(n,{key:4,cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",kl,[e[38]||(e[38]=u("p",{class:"mb-0"},"تاریخ تولد : ",-1)),u("p",wl,p(i.value.birthDate),1)])]),_:1})):h("",!0),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",Cl,[e[39]||(e[39]=u("p",{class:"mb-0"},"شماره همراه : ",-1)),u("p",Sl,p(U.value.phoneNumber),1)])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",Wl,[e[40]||(e[40]=u("p",{class:"mb-0"},"جنسیت : ",-1)),i.value.gender==!0?(g(),C("p",Il,"مرد")):i.value.gender==!1?(g(),C("p",hl,"زن")):h("",!0)])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",Ul,[e[41]||(e[41]=u("p",{class:"mb-0"},"نام : ",-1)),u("p",Bl,p(i.value.firstName),1)])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",Tl,[e[42]||(e[42]=u("p",{class:"mb-0"},"نام خانوادگی : ",-1)),u("p",Dl,p(i.value.lastName),1)])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",zl,[e[43]||(e[43]=u("p",{class:"mb-0"},"نام پدر : ",-1)),u("p",jl,p(i.value.fatherName),1)])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",Fl,[e[44]||(e[44]=u("p",{class:"mb-0"},"شهر : ",-1)),u("p",Rl,p(i.value.officeName),1)])]),_:1}),l(n,{cols:"12",md:"3",class:"my-3"},{default:a(()=>[u("div",Ll,[e[45]||(e[45]=u("p",{class:"mb-0"},"کارت بانکی : ",-1)),i.value.isHaveBank==!1?(g(),P(B,{key:0,size:"small",icon:"ri-close-line",color:"#c9190c"})):i.value.isHaveBank==!0?(g(),P(B,{key:1,size:"small",icon:"ri-check-line",color:"#0b8707"})):h("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},512),l(te,{class:"btn-box"},{default:a(()=>[l(_,{onClick:_e,size:"large"},{default:a(()=>e[46]||(e[46]=[V("قبلی")])),_:1}),k.value.userVerified==!1?(g(),P(_,{key:0,onClick:Me,color:"primary",size:"large",variant:"elevated",disabled:!ce(re),loading:ne.value},{default:a(()=>e[47]||(e[47]=[V(" استعلام هویت ")])),_:1},8,["disabled","loading"])):(g(),P(_,{key:1,onClick:me,color:"primary",size:"large",variant:"elevated",loading:ne.value},{default:a(()=>e[48]||(e[48]=[V(" بعدی ")])),_:1},8,["loading"]))]),_:1})]),_:1})]),_:1}),l(pe,{value:3},{default:a(()=>[l(T,{class:"step-card"},{default:a(()=>[l(bl,{modelValue:D.value,"onUpdate:modelValue":e[5]||(e[5]=s=>D.value=s)},{default:a(()=>[l(Be,{value:"one"},{default:a(()=>e[49]||(e[49]=[V("خرید")])),_:1}),l(Be,{value:"two"},{default:a(()=>e[50]||(e[50]=[V("فروش")])),_:1})]),_:1},8,["modelValue"]),l(Vl,{modelValue:D.value,"onUpdate:modelValue":e[27]||(e[27]=s=>D.value=s)},{default:a(()=>[l(Te,{value:"one"},{default:a(()=>[l(ue,{ref:s=>G(s,3)},{default:a(()=>[l(le,null,{default:a(()=>[l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[u("div",Gl,[e[52]||(e[52]=u("h3",{class:"trade-step-title"},"ثبت حواله خرید",-1)),u("div",$l,[l(_,{color:"#930506",size:"small",class:"info-btn",onClick:ul},{default:a(()=>e[51]||(e[51]=[V("راهنما")])),_:1})])])]),_:1})]),_:1}),l(S,{class:""},{default:a(()=>[l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{modelValue:v.value.date,"onUpdate:modelValue":e[6]||(e[6]=s=>v.value.date=s),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{type:"time",modelValue:v.value.time,"onUpdate:modelValue":e[7]||(e[7]=s=>v.value.time=s),placeholder:"زمان"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:v.value.buyPrice,"onUpdate:modelValue":e[8]||(e[8]=s=>v.value.buyPrice=s),label:"قیمت طلا(تومان)",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(_,{onClick:Ce,class:"h-100",color:"primary",size:"large",variant:"elevated",block:"",loading:de.value},{default:a(()=>e[53]||(e[53]=[V(" استعلام قیمت طلا ")])),_:1},8,["loading"])]),_:1})]),_:1}),l(S,null,{default:a(()=>[l(n,{cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:r.value.totalPrice,"onUpdate:modelValue":e[9]||(e[9]=s=>r.value.totalPrice=s),label:"مبلغ (تومان)",variant:"outlined",onInput:el,disabled:v.value.buyPrice==""},null,8,["modelValue","disabled"])]),_:1}),l(n,{cols:"12",md:"2"},{default:a(()=>[u("div",Al,[l(B,{class:"me-2",size:"small",icon:"ri-arrow-left-right-line",color:"#0b8707"})])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:r.value.goldWeight,"onUpdate:modelValue":e[10]||(e[10]=s=>r.value.goldWeight=s),label:"وزن (گرم)",variant:"outlined",rules:We,onInput:ll,disabled:v.value.buyPrice==""},null,8,["modelValue","disabled"])]),_:1}),l(n,{cols:"12",md:"4"},{default:a(()=>[l(W,{modelValue:r.value.invoiceId,"onUpdate:modelValue":e[11]||(e[11]=s=>r.value.invoiceId=s),label:"شناسه پرداخت",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(se,{class:"my-9"}),l(n,{cols:"12",md:"3"},{default:a(()=>e[54]||(e[54]=[u("div",{class:"d-flex justify-start align-center h-100"},[u("p",{class:"ma-0"},"اطلاعات حساب بانکی : ")],-1)])),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[u("div",Hl,[l(ge,{modelValue:r.value.destCardPan,"onUpdate:modelValue":e[12]||(e[12]=s=>r.value.destCardPan=s),items:je.value,label:"به حساب",variant:"outlined",rules:Je,"item-title":"label","item-value":"item"},null,8,["modelValue","items"])])]),_:1}),r.value.destCardPan=="سایر"?(g(),P(n,{key:0,cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:Ne.value,"onUpdate:modelValue":e[13]||(e[13]=s=>Ne.value=s),label:"به حساب",variant:"outlined"},null,8,["modelValue"])]),_:1})):h("",!0),l(se,{class:"my-9"}),l(n,{cols:"12",md:"3"},{default:a(()=>e[55]||(e[55]=[u("div",{class:"d-flex justify-start align-center h-100"},[u("p",{class:"ma-0"},"زمان ثبت معامله : ")],-1)])),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{modelValue:r.value.date,"onUpdate:modelValue":e[14]||(e[14]=s=>r.value.date=s),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{type:"time",modelValue:r.value.time,"onUpdate:modelValue":e[15]||(e[15]=s=>r.value.time=s),placeholder:"زمان"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3",class:"d-none d-md-flex"}),l(n,{cols:"12",class:"mt-2"},{default:a(()=>[l(De,{label:"توضیحات (اختیاری)",variant:"outlined",modelValue:r.value.description,"onUpdate:modelValue":e[16]||(e[16]=s=>r.value.description=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512),l(te,{class:"btn-box"},{default:a(()=>[l(_,{onClick:_e,size:"large"},{default:a(()=>e[56]||(e[56]=[V("قبلی")])),_:1}),l(_,{onClick:e[17]||(e[17]=s=>me("buy")),color:"primary",size:"large",variant:"elevated",disabled:!ce(re),loading:z.value},{default:a(()=>e[57]||(e[57]=[V(" خرید ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1}),l(Te,{value:"two"},{default:a(()=>[l(ue,{ref:s=>G(s,3)},{default:a(()=>[l(le,null,{default:a(()=>[l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[u("div",El,[e[59]||(e[59]=u("h3",{class:"trade-step-title"},"ثبت حواله فروش",-1)),u("div",Ml,[l(_,{color:"#930506",size:"small",class:"info-btn",onClick:sl},{default:a(()=>e[58]||(e[58]=[V("راهنما")])),_:1})])])]),_:1})]),_:1}),l(S,null,{default:a(()=>[l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{modelValue:v.value.date,"onUpdate:modelValue":e[18]||(e[18]=s=>v.value.date=s),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{type:"time",modelValue:v.value.time,"onUpdate:modelValue":e[19]||(e[19]=s=>v.value.time=s),placeholder:"زمان"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:v.value.sellPrice,"onUpdate:modelValue":e[20]||(e[20]=s=>v.value.sellPrice=s),label:"قیمت طلا(تومان)",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(_,{onClick:Ce,class:"h-100",color:"primary",size:"large",variant:"elevated",block:"",loading:de.value},{default:a(()=>e[60]||(e[60]=[V(" استعلام قیمت طلا ")])),_:1},8,["loading"])]),_:1})]),_:1}),l(S,null,{default:a(()=>[l(n,{cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:m.value.totalPrice,"onUpdate:modelValue":e[21]||(e[21]=s=>m.value.totalPrice=s),label:"مبلغ (تومان)",variant:"outlined",onInput:al,disabled:v.value.sellPrice==""},null,8,["modelValue","disabled"])]),_:1}),l(n,{cols:"12",md:"2"},{default:a(()=>[u("div",Yl,[l(B,{class:"me-2",size:"small",icon:"ri-arrow-left-right-line",color:"#0b8707"})])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(W,{modelValue:m.value.goldWeight,"onUpdate:modelValue":e[22]||(e[22]=s=>m.value.goldWeight=s),label:"وزن (گرم)",variant:"outlined",rules:We,onInput:tl,disabled:v.value.sellPrice==""},null,8,["modelValue","disabled"])]),_:1}),l(se,{class:"my-9"}),l(n,{cols:"12",md:"3"},{default:a(()=>e[61]||(e[61]=[u("div",{class:"d-flex justify-start align-center h-100"},[u("p",{class:"ma-0"},"زمان ثبت معامله : ")],-1)])),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{modelValue:m.value.date,"onUpdate:modelValue":e[23]||(e[23]=s=>m.value.date=s),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:a(()=>[l(f,{type:"time",modelValue:m.value.time,"onUpdate:modelValue":e[24]||(e[24]=s=>m.value.time=s),placeholder:"زمان"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3",class:"d-none d-md-flex"}),l(n,{cols:"12"},{default:a(()=>[l(De,{label:"توضیحات (اختیاری)",variant:"outlined",modelValue:m.value.description,"onUpdate:modelValue":e[25]||(e[25]=s=>m.value.description=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512),l(te,{class:"btn-box"},{default:a(()=>[l(_,{onClick:_e,size:"large"},{default:a(()=>e[62]||(e[62]=[V("قبلی")])),_:1}),l(_,{onClick:e[26]||(e[26]=s=>me("sell")),color:"primary",size:"large",variant:"elevated",disabled:!ce(re),loading:z.value},{default:a(()=>e[63]||(e[63]=[V(" فروش ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(pe,{value:4},{default:a(()=>[l(T,{class:"step-card"},{default:a(()=>[l(ue,{ref:s=>G(s,4)},{default:a(()=>[l(le,null,{default:a(()=>[l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[u("div",ql,[u("h3",Jl,"حواله "+p(d.value.type),1)])]),_:1})]),_:1}),l(S,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>e[64]||(e[64]=[u("div",{class:"d-flex"},[u("h4",null,"اطلاعات کاربر")],-1)])),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",Ol,[e[65]||(e[65]=u("p",null,"نام : ",-1)),u("p",null,p(d.value.user.firstName),1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",Zl,[e[66]||(e[66]=u("p",null,"نام خانوادگی : ",-1)),u("p",null,p(d.value.user.lastName),1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",Kl,[e[67]||(e[67]=u("p",null,"نام پدر : ",-1)),u("p",null,p(d.value.user.fatherName),1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",Ql,[e[68]||(e[68]=u("p",null,"کد ملی : ",-1)),u("p",null,p(d.value.user.nationalCode),1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",Xl,[e[69]||(e[69]=u("p",null," شماره همراه : ",-1)),u("p",null,p(d.value.user.phoneNumber),1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",ea,[e[70]||(e[70]=u("p",null,"کارشناس : ",-1)),u("p",null,p(d.value.adminId),1)])]),_:1}),l(se),l(n,{cols:"12"},{default:a(()=>e[71]||(e[71]=[u("div",{class:"d-flex"},[u("h4",null,"اطلاعات معامله")],-1)])),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",la,[e[72]||(e[72]=u("p",null,"وزن طلا : ",-1)),u("p",null,p(d.value.goldWeight)+" گرم",1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",aa,[e[73]||(e[73]=u("p",null,"قیمت طلا : ",-1)),u("p",null,p(ke(d.value.goldPrice))+" تومان",1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",ta,[e[74]||(e[74]=u("p",null,"قیمت کل : ",-1)),u("p",null,p(ke(d.value.totalPrice))+" تومان",1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",ua,[e[75]||(e[75]=u("p",null,"تاریخ ثبت حواله : ",-1)),d.value.type=="خرید"?(g(),C("p",sa,p(r.value.date),1)):(g(),C("p",oa,p(m.value.date),1))])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",na,[e[76]||(e[76]=u("p",null,"زمان ثبت حواله : ",-1)),d.value.type=="خرید"?(g(),C("p",da,p(r.value.time),1)):(g(),C("p",ia,p(m.value.time),1))])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",ra,[e[77]||(e[77]=u("p",null,"از حساب : ",-1)),u("p",null,p(r.value.destCardPan),1)])]),_:1}),l(se),l(n,{cols:"12"},{default:a(()=>e[78]||(e[78]=[u("div",{class:"d-flex"},[u("h4",null,"اطلاعات کیف پول")],-1)])),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",ma,[e[79]||(e[79]=u("p",null," موجودی کیف پول : ",-1)),u("p",null,p(ke(d.value.wallet.balance))+" تومان",1)])]),_:1}),l(n,{cols:"6",md:"3"},{default:a(()=>[u("div",va,[e[80]||(e[80]=u("p",null,"دارایی طلا: ",-1)),u("p",null,p(d.value.wallet.goldWeight)+" گرم",1)])]),_:1})]),_:1})]),_:1})]),_:1},512),l(te,{class:"btn-box"},{default:a(()=>[l(_,{onClick:Ge,color:"primary",size:"large",variant:"elevated"},{default:a(()=>e[81]||(e[81]=[V(" اتمام نمایش ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),x.value?(g(),P(vl,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:a(()=>[V(p(L.value),1)]),_:1})):h("",!0),l(we,{modelValue:ie.value,"onUpdate:modelValue":e[29]||(e[29]=s=>ie.value=s),"max-width":"500",persistent:""},{default:a(()=>[l(T,{title:"تایید فاکتور",class:"modal-card"},{default:a(()=>[l(B,{class:"mt-3 mb-6",icon:"ri-checkbox-circle-fill",color:"#0b8707"}),u("h4",null," فاکتور "+p(d.value.user.firstName)+" "+p(d.value.user.lastName)+" با موفقیت ثبت شد ",1)]),_:1})]),_:1},8,["modelValue"]),l(we,{"max-width":"500",modelValue:be.value,"onUpdate:modelValue":e[30]||(e[30]=s=>be.value=s)},{default:a(()=>[l(T,{class:"guideSectionStyle"},{default:a(()=>e[82]||(e[82]=[u("h2",{class:"guideSection-title"},"راهنما ثبت حواله خرید",-1),u("ul",null,[u("li",null," در ابتدا لازم است دو بخش مربوط به تاریخ و زمان را ثبت کنید تا امکان فعال‌سازی کادر استعلام قیمت طلا فراهم شود. "),u("li",null," برای وارد کردن شناسه پرداخت، لازم است تنها از اعداد استفاده کنید. "),u("li",null," مبلغی که کاربر پرداخت می‌کند، باید حتماً به همان حسابی که هنگام ثبت سفارش مشخص شده است واریز شود. "),u("li",null," زمان ثبت معامله باید حتماً در همان لحظه انجام شود. ")],-1)])),_:1})]),_:1},8,["modelValue"]),l(we,{"max-width":"500",modelValue:Ve.value,"onUpdate:modelValue":e[31]||(e[31]=s=>Ve.value=s)},{default:a(()=>[l(T,{class:"guideSectionStyle"},{default:a(()=>e[83]||(e[83]=[u("h2",{class:"guideSection-title"},"راهنما ثبت حواله خرید",-1),u("ul",null,[u("li",null," در ابتدا لازم است دو بخش مربوط به تاریخ و زمان را ثبت کنید تا امکان فعال‌سازی کادر استعلام قیمت طلا فراهم شود. "),u("li",null," قیمت فروش طلا با یک درصد کارمزد نمایش داده می شود. "),u("li",null," زمان ثبت معامله باید حتماً در همان لحظه انجام شود. ")],-1)])),_:1})]),_:1},8,["modelValue"])],64)}}},Fa=ol(ca,[["__scopeId","data-v-144f375e"]]);export{Fa as default};
