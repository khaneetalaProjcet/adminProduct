import{ad as R,_ as F,r as f,k as I,c as r,b as s,w as o,a1 as h,e as u,h as H,F as G,a0 as E,q as U,o as l,a2 as i,a as e,V as k,t as d,a4 as O,C as N,al as c}from"./index-RRXVcsWe.js";import{R as Y}from"./report-Dl_OaLyz.js";import{V as L}from"./VAlert-D1oRgK2O.js";import{V as x}from"./VDivider-CKVWvHEa.js";import"./createSimpleFunctional-Dpl1Mwt9.js";const q={async Dashboard(){return(await R.get("/home/charts")).data}},P={class:"box"},Q={class:"icon-box"},J={class:"my-2 d-flex justify-space-between align-center w-100"},K={key:1},X={class:"my-2 d-flex justify-space-between align-center"},Z={key:1},$={class:"my-2 d-flex justify-space-between align-center total"},ee={key:1},ae={class:"box"},se={class:"icon-box"},le={class:"my-2 d-flex justify-space-between align-center w-100"},te={key:1},oe={class:"my-2 d-flex justify-space-between align-center"},ne={key:1},ie={class:"my-2 d-flex justify-space-between align-center total"},de={key:1},re={class:"box"},ue={class:"icon-box"},ce={class:"my-2 d-flex justify-space-between align-center w-100"},pe={key:1},ve={class:"my-2 d-flex justify-space-between align-center"},fe={key:1},me={class:"my-2 d-flex justify-space-between align-center total"},ye={key:1},_e={class:"box h-100"},he={class:"icon-box"},ge={class:"total-box"},be={class:"d-flex justify-space-between"},ke={key:1},xe={class:"d-flex justify-space-between"},we={key:1},Te={class:"d-flex justify-space-between"},Be={key:1},Se={class:"d-flex justify-space-between"},Ve={key:1},ze={class:"d-flex justify-space-between stat-bold"},Ce={key:1},je={class:"d-flex justify-space-between stat-bold"},Me={key:1},Ee={class:"d-flex justify-end"},Ue={class:"d-flex justify-space-between align-center"},Ne={key:1},We={class:"d-flex justify-space-between align-center"},De={key:1},Ae={class:"d-flex justify-space-between align-center"},Re={key:1},Fe={class:"d-flex justify-space-between align-center"},Ie={key:1},He={class:"d-flex justify-space-between align-center"},Ge={key:1},Oe={class:"d-flex justify-space-between align-center"},Ye={key:1},Le={class:"d-flex justify-space-between align-center"},qe={key:1},Pe={class:"d-flex justify-space-between align-center"},Qe={key:1},Je={class:"box"},Ke={class:"box"},Xe={class:"box"},Ze={__name:"OverviewView",setup(W){const m=f(!1),v=f(!1),p=f({successUsers:"-",failedUsers:"-",allUsers:"-",pendingsTransactions:"-",failedTransactions:"-",completeTransactions:"-",allTransActions:"-",allBuy:"-",allSell:"-",allWeight:"-",buyChart:{}}),y=f({startDate:"",startTime:"",endDate:"",endTime:""}),n=f({all:"-",sold:"-",bought:"-",allBalance:"-",succeedWithdraw:"-",inpersonBought:"-",inpersonSold:"-",phoneBought:"-",phoneSold:"-",REMMITANCEBought:"-",REMMITANCESold:"-",deposit:"-",allGoldWeight:null}),w=f(""),g=f(!1),T=f({chart:{fontFamily:"YekanBakhFaNum"},title:{text:"حجم معاملات ماهانه صندوق طلا",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},xaxis:{categories:[]}}),C=f([{name:"میزان فروش صندوق طلا",data:[],color:"#d4af37"}]),B=f({chart:{fontFamily:"YekanBakhFaNum"},title:{text:"حجم معاملات روزانه صندوق طلا",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},stroke:{curve:"smooth",width:3},xaxis:{categories:[]},colors:["#FF3131","#008000"]}),j=f([{name:"میزان فروش صندوق طلا",data:[]}]),S=f({chart:{type:"pie",fontFamily:"YekanBakhFaNum"},title:{text:"احراز هویت کاربران",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},colors:["#fcc428","#d4af37"],labels:[]}),M=f([]),V=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),D=async()=>{try{m.value=!0;const t=await q.Dashboard();return p.value.allBuy=t.data.allBuy,p.value.allSell=t.data.allSell,p.value.allTransActions=t.data.allTransActions,p.value.allUsers=t.data.allUsers,p.value.allWeight=t.data.allWeight,p.value.completeTransactions=t.data.completeTransactions,p.value.failedTransactions=t.data.failedTransactions,p.value.failedUsers=t.data.failedUsers,p.value.pendingsTransactions=t.data.pendingsTransactions,p.value.successUsers=t.data.successUsers,p.value.buyChart=t.data.buyChart,T.value={...T.value,xaxis:{categories:t.data.barChart.label}},C.value=[{name:"فروش ماهانه صندوق طلا",data:t.data.barChart.data}],B.value={...B.value,xaxis:{categories:t.data.lineChart.label}},j.value=[{name:"فروش ماهانه صندوق طلا",data:t.data.lineChart[0].data},{name:"خرید ماهانه صندوق طلا",data:t.data.lineChart[1].data}],S.value={...S.value,labels:t.data.pieChart.label},M.value=t.data.pieChart.data,t}catch(t){t.response.status==401&&(localStorage.clear(),E.replace("/login")),w.value=t.response.data.msg||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{m.value=!1}},A=async()=>{try{v.value=!0;const t=await Y.ReportHour(y.value);return n.value.all=t.data.all,n.value.bought=t.data.bought,n.value.deposit=t.data.deposit,n.value.allBalance=t.data.allBalance,n.value.sold=t.data.sold,n.value.succeedWithdraw=t.data.succeedWithdraw,n.value.REMMITANCEBought=t.data.REMMITANCEBought,n.value.REMMITANCESold=t.data.REMMITANCESold,n.value.inpersonBought=t.data.inpersonBought,n.value.inpersonSold=t.data.inpersonSold,n.value.phoneBought=t.data.phoneBought,n.value.phoneSold=t.data.phoneSold,n.value.allGoldWeight=t.data.allGoldWeight,t}catch(t){t.response.status==401&&(localStorage.clear(),E.replace("/login")),w.value=t.response.data.error||"خطایی رخ داده است!",g.value=!0,setTimeout(()=>{g.value=!1},1e4)}finally{v.value=!1}};return I(()=>{D()}),(t,a)=>{const b=U("persian-date-picker"),z=U("apexchart");return l(),r(G,null,[s(h,null,{default:o(()=>[s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",P,[e("div",Q,[s(k,{icon:"ri-user-line",class:"icon"})]),e("div",J,[a[4]||(a[4]=e("p",null,"کاربران احراز شده",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",K,d(p.value.successUsers)+" نفر",1))]),e("div",X,[a[5]||(a[5]=e("p",null,"کاربران در انتظار",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Z,d(p.value.failedUsers)+" نفر",1))]),e("div",$,[a[6]||(a[6]=e("p",null,"همه کاربران",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",ee,d(p.value.allUsers)+" نفر",1))])])]),_:1}),s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",ae,[e("div",se,[s(k,{icon:"ri-p2p-line",class:"icon"})]),e("div",le,[a[7]||(a[7]=e("p",null,"معاملات موفق",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",te,d(p.value.completeTransactions)+" معامله",1))]),e("div",oe,[a[8]||(a[8]=e("p",null,"معاملات نامشخص",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",ne,d(p.value.pendingsTransactions)+" معامله",1))]),e("div",ie,[a[9]||(a[9]=e("p",null,"معاملات ناموفق",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",de,d(p.value.failedTransactions)+" معامله",1))])])]),_:1}),s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",re,[e("div",ue,[s(k,{icon:"ri-exchange-dollar-fill",class:"icon"})]),e("div",ce,[a[10]||(a[10]=e("p",null,"طلای خریداری شده",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",pe,d(p.value.allBuy)+" گرم",1))]),e("div",ve,[a[11]||(a[11]=e("p",null,"طلای فروخته شده",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",fe,d(p.value.allSell)+" گرم",1))]),e("div",me,[a[12]||(a[12]=e("p",null,"مجموع طلای معامله شده",-1)),m.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",ye,d(p.value.allWeight)+" گرم",1))])])]),_:1}),s(i,{cols:"12"},{default:o(()=>[e("div",_e,[e("div",he,[s(k,{icon:"ri-bar-chart-box-ai-line",class:"icon"})]),s(h,{class:"my-4"},{default:o(()=>[s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(b,{modelValue:y.value.startDate,"onUpdate:modelValue":a[0]||(a[0]=_=>y.value.startDate=_),placeholder:"از تاریخ",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(b,{modelValue:y.value.endDate,"onUpdate:modelValue":a[1]||(a[1]=_=>y.value.endDate=_),placeholder:"تا تاریخ",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(b,{type:"time",modelValue:y.value.startTime,"onUpdate:modelValue":a[2]||(a[2]=_=>y.value.startTime=_),placeholder:"از زمان",format:"HH:mm:ss",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(b,{type:"time",modelValue:y.value.endTime,"onUpdate:modelValue":a[3]||(a[3]=_=>y.value.endTime=_),placeholder:"تا زمان",format:"HH:mm:ss",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",class:"my-2"},{default:o(()=>[e("div",ge,[a[13]||(a[13]=e("span",null,"موجودی کل صندوق طلا: ",-1)),e("span",null,d((+n.value.allGoldWeight).toFixed(5)),1)])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",be,[a[14]||(a[14]=e("p",null,"طلای فروخته شده:",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",ke,d(n.value.sold)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",xe,[a[15]||(a[15]=e("p",null,"طلای خریداری شده:",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",we,d(n.value.bought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Te,[a[16]||(a[16]=e("p",null," مجموع موجودی های ریالی:",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Be,d(V(n.value.allBalance))+" تومان",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Se,[a[17]||(a[17]=e("p",null,"برداشت های تایید شده:",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Ve,d(V(n.value.succeedWithdraw))+" تومان",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",ze,[a[18]||(a[18]=e("p",null,"مجموع واریزی ها:",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Ce,d(V(n.value.deposit))+" تومان",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",je,[a[19]||(a[19]=e("p",null,"خالص طلای معامله شده:",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Me,d(n.value.all)+" گرم",1))])]),_:1}),s(i,{cols:"12"},{default:o(()=>[e("div",Ee,[s(O,{class:"px-8",color:"#b08c4d",onClick:A},{default:o(()=>a[20]||(a[20]=[N("محاسبه")])),_:1})])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ue,[a[21]||(a[21]=e("p",null,"خرید حضوری : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Ne,d(n.value.inpersonBought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",We,[a[22]||(a[22]=e("p",null,"فروش حضوری : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",De,d(n.value.inpersonSold)+" گرم",1))])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ae,[a[23]||(a[23]=e("p",null,"خرید آنلاین : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Re,d(n.value.bought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Fe,[a[24]||(a[24]=e("p",null,"فروش آنلاین : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Ie,d(n.value.sold)+" گرم",1))])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",He,[a[25]||(a[25]=e("p",null,"خرید تلفنی : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Ge,d(n.value.phoneBought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Oe,[a[26]||(a[26]=e("p",null,"فروش تلفنی : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Ye,d(n.value.phoneSold)+" گرم",1))])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Le,[a[27]||(a[27]=e("p",null,"خرید حواله ای : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",qe,d(n.value.REMMITANCEBought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Pe,[a[28]||(a[28]=e("p",null,"فروش فروش حواله ای : ",-1)),v.value?(l(),u(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(l(),r("p",Qe,d(n.value.REMMITANCESold)+" گرم",1))])]),_:1})]),_:1})])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Je,[s(z,{width:"100%",type:"bar",options:T.value,series:C.value},null,8,["options","series"])])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ke,[s(z,{width:"100%",type:"line",options:B.value,series:j.value},null,8,["options","series"])])]),_:1}),s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",Xe,[s(z,{width:"100%",type:"pie",options:S.value,series:M.value},null,8,["options","series"])])]),_:1})]),_:1}),g.value?(l(),u(L,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:o(()=>[N(d(w.value),1)]),_:1})):H("",!0)],64)}}},ta=F(Ze,[["__scopeId","data-v-cd278390"]]);export{ta as default};
