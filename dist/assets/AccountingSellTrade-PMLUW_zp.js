import{_,r as o,k,c as x,b as a,w as t,a7 as g,e as y,h as S,a6 as b,o as d,a8 as h,a as m,t as p,C as B}from"./index-DPbM7Srt.js";import{A as w}from"./accounting-qvFBTuBO.js";import{V as C}from"./VAlert-CiLUMVhS.js";import{a as G,V as N}from"./VCard-BcsNbHr5.js";import{V as T}from"./VTextField-Ds2Filyz.js";import{V as A}from"./VDataTable-C4Ir0nc2.js";import{a as R}from"./VSelect-BB9dMiMl.js";import"./createSimpleFunctional-BU6VC0Kn.js";import"./VAvatar-VvcL8C_I.js";import"./VImg-BGdPhUT7.js";import"./VMenu-BoRBIBXW.js";const P={__name:"AccountingSellTrade",setup(D){const c=o(""),r=o(!1),s=o(!1),f=o([{title:"نام",key:"seller.firstName"},{title:"نام خانوادگی",key:"seller.lastName"},{title:"شناسه پرداخت",key:"invoiceId"},{title:"مبلغ (تومان)",key:"totalPrice"},{title:"میزان طلا (گرم)",key:"goldWeight"},{title:"قیمت طلا (تومان)",key:"goldPrice"},{title:"تاریخ",key:"date"},{title:"زمان",key:"time"},{title:"کارشناس",key:"accounterId"},{title:"وضعیت",key:"status"}]),i=o(),n=o(),v=async()=>{try{s.value=!0;const e=await w.GoldBoxSellList();return n.value=e.data,e}catch(e){e.response.status==401&&(localStorage.clear(),b.replace("/login")),c.value=e.response.data.error||"خطایی رخ داده است!",r.value=!0,setTimeout(()=>{r.value=!1},1e4)}finally{s.value=!1}},V=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return k(()=>{v()}),(e,u)=>(d(),x("div",null,[a(g,null,{default:t(()=>[a(h,{cols:"12"},{default:t(()=>[a(G,null,{default:t(()=>[a(N,{title:"فروش صندوق طلا"},{text:t(()=>[a(T,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=l=>i.value=l),label:"جستجو","prepend-inner-icon":"ri-search-line"},null,8,["modelValue"])]),default:t(()=>[a(A,{headers:f.value,items:n.value,search:i.value,loading:s.value},{"item.totalPrice":t(({item:l})=>[m("p",null,p(V(l.totalPrice)),1)]),"item.status":t(({item:l})=>[m("div",null,[a(R,{text:l.status=="completed"?"برداشت شده":"در انتظار برداشت",color:l.status=="completed"?"#ff0000":"#66666",size:"small"},null,8,["text","color"])])]),_:1},8,["headers","items","search","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),r.value?(d(),y(C,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:t(()=>[B(p(c.value),1)]),_:1})):S("",!0)]))}},J=_(P,[["__scopeId","data-v-dbee72b2"]]);export{J as default};
