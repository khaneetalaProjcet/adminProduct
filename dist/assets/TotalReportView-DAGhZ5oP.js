import{_ as R,r as s,e as d,w as u,a1 as S,s as j,o as r,b as t,$ as y,a0 as o,a as n,j as m,c as k,a4 as B,F,a2 as H,D as N,a5 as E,Z as L,t as M}from"./index-B0YMQoDW.js";import{R as P}from"./report-BwWWyQeB.js";import{V as G}from"./VForm-DVzfi2Fl.js";import{V as v}from"./VSelect-DDjnEhlD.js";import{V as I}from"./VTextField-CcxuvouK.js";import"./index-CIYWawcK.js";import"./VMenu-CZOVM6p0.js";import"./index-DKk8SRMU.js";import"./createSimpleFunctional-DO7JhE4x.js";import"./VAvatar-B8dnFt0F.js";import"./VImg-D3gaPYvg.js";import"./VDivider-gHVDUlbz.js";import"./dialog-transition-yzF7V_0H.js";import"./VSelectionControl-ChSTS_R5.js";import"./VChip-BKcYYi6C.js";const Z={class:"d-flex flex-column justify-start"},$=["href"],q={class:"d-flex justify-end"},z={__name:"TotalReportView",setup(A){const f=s(!1),T=s(""),b=s(!1),e=s({report:1,startDate:"",startTime:"",endDate:"",endTime:"",type:"all",deal:"all",status:"all",nationalCode:"",auth:""}),V=s({link:[]}),_=s([{value:1,label:"واریز و برداشت"},{value:2,label:"معاملات"},{value:3,label:"کاربران"},{value:4,label:"گزارش گیری ساعتی"}]),g=s([{value:"all",label:"همه"},{value:"deposit",label:"واریز"},{value:"withdraw",label:"برداشت"}]),x=s([{value:"all",label:"همه"},{value:"sell",label:"فروش"},{value:"buy",label:"خرید"}]),w=s([{value:"all",label:"همه"},{value:"approved",label:"احراز شده"},{value:"pebding",label:"در انتظار احراز"}]),U=s([{value:"all",label:"همه"},{value:"fromPhone",label:"تلفنی"},{value:"inPerson",label:"حضوری"},{value:"fromGateway",label:"آنلاین"}]),D=s([{value:"all",label:"همه"},{value:"completed",label:"موفق"},{value:"failed",label:"ناموفق"},{value:"pending",label:"در انتظار"}]),C=async()=>{try{f.value=!0;const i=await P.ReportSubmit(e.value);return V.value.link.push(i[1]),i}catch(i){i.response.status==401&&(localStorage.clear(),L.replace("/login")),T.value=i.response.data.error||"خطایی رخ داده است!",b.value=!0,setTimeout(()=>{b.value=!1},1e4)}finally{f.value=!1}};return(i,l)=>{const p=j("persian-date-picker");return r(),d(G,{onSubmit:S(C,["prevent"])},{default:u(()=>[t(E,{class:"filter-container"},{default:u(()=>[t(y,null,{default:u(()=>[t(o,{cols:"6",md:"4",class:"my-3"},{default:u(()=>[t(v,{modelValue:e.value.report,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.report=a),items:_.value,label:"نوع گزارش",variant:"outlined",rules:[a=>!!a||"حداقل یک مورد الزامیست"],"item-title":"label","item-value":"value"},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),e.value.report!=4?(r(),d(y,{key:0},{default:u(()=>[t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>l[11]||(l[11]=[n("div",{class:"d-flex justify-start align-center"},[n("p",{class:"mb-0"},"زمان شروع: ")],-1)])),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{modelValue:e.value.startDate,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.startDate=a),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{type:"time",modelValue:e.value.startTime,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.startTime=a),placeholder:"زمان",format:"HH:mm:ss"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>l[12]||(l[12]=[n("div",{class:"d-flex justify-start align-center"},[n("p",{class:"mb-0"},"زمان پایان: ")],-1)])),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{modelValue:e.value.endDate,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.endDate=a),placeholder:"تاریخ"},null,8,["modelValue"])]),_:1}),t(o,{cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(p,{type:"time",modelValue:e.value.endTime,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.endTime=a),placeholder:"زمان",format:"HH:mm:ss"},null,8,["modelValue"])]),_:1}),e.value.report==1?(r(),d(o,{key:0,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.type,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.type=a),items:g.value,label:"نوع انتقال",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report==2?(r(),d(o,{key:1,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.type,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.type=a),items:x.value,label:"نوع معامله",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report==2?(r(),d(o,{key:2,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.deal,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.deal=a),items:U.value,label:"نوع ثبت",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report!=3?(r(),d(o,{key:3,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.status,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.status=a),items:D.value,label:"وضعیت",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0),e.value.report!=3?(r(),d(o,{key:4,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(I,{modelValue:e.value.nationalCode,"onUpdate:modelValue":l[9]||(l[9]=a=>e.value.nationalCode=a),label:"کد ملی",variant:"outlined"},null,8,["modelValue"])]),_:1})):m("",!0),e.value.report==3?(r(),d(o,{key:5,cols:"6",md:"4",class:"my-4"},{default:u(()=>[t(v,{modelValue:e.value.auth,"onUpdate:modelValue":l[10]||(l[10]=a=>e.value.auth=a),items:w.value,label:"وضعیت کاربران",variant:"outlined","item-title":"label","item-value":"value"},null,8,["modelValue","items"])]),_:1})):m("",!0)]),_:1})):m("",!0),t(y,null,{default:u(()=>[t(o,{cols:"12"},{default:u(()=>[n("div",Z,[V.value.link!=""?(r(!0),k(F,{key:0},B(V.value.link,(a,c)=>(r(),k("a",{class:"download-link my-1",key:c,href:a},"دانلود گزارش "+M(c+1),9,$))),128)):m("",!0)])]),_:1}),t(o,{cols:"12"},{default:u(()=>[n("div",q,[t(H,{type:"submit",loading:f.value},{default:u(()=>l[13]||(l[13]=[N("ایجاد گزارش")])),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1})}}},re=R(z,[["__scopeId","data-v-ab402c8b"]]);export{re as default};
