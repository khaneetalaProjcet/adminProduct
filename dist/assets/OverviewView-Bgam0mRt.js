import{ad as W,_ as F,r as v,k as I,c as d,b as s,w as o,a1 as h,e as r,h as H,F as O,a0 as E,q as U,o as t,a2 as i,a as e,V as k,t as u,a4 as Y,C as N,al as c}from"./index-CNGuQgXK.js";import{R as L}from"./report-CACkF-Vn.js";import{V as q}from"./VAlert-08_MKr8F.js";import{V as x}from"./VDivider-BKbp3VfP.js";import"./createSimpleFunctional-CvlayjlF.js";const G={async Dashboard(){return(await W.get("/home/charts")).data}},P={class:"box"},Q={class:"icon-box"},J={class:"my-2 d-flex justify-space-between align-center w-100"},K={key:1},X={class:"my-2 d-flex justify-space-between align-center"},Z={key:1},$={class:"my-2 d-flex justify-space-between align-center total"},ee={key:1},ae={class:"box"},se={class:"icon-box"},te={class:"my-2 d-flex justify-space-between align-center w-100"},le={key:1},oe={class:"my-2 d-flex justify-space-between align-center"},ne={key:1},ie={class:"my-2 d-flex justify-space-between align-center total"},de={key:1},re={class:"box"},ue={class:"icon-box"},ce={class:"my-2 d-flex justify-space-between align-center w-100"},pe={key:1},fe={class:"my-2 d-flex justify-space-between align-center"},ve={key:1},me={class:"my-2 d-flex justify-space-between align-center total"},ye={key:1},_e={class:"box h-100"},he={class:"icon-box"},be={class:"d-flex justify-space-between"},ge={key:1},ke={class:"d-flex justify-space-between"},xe={key:1},we={class:"d-flex justify-space-between"},Te={key:1},Be={class:"d-flex justify-space-between"},Se={key:1},Ve={class:"d-flex justify-space-between stat-bold"},ze={key:1},Ce={class:"d-flex justify-space-between stat-bold"},je={key:1},Me={class:"d-flex justify-end"},Ee={class:"d-flex justify-space-between align-center"},Ue={key:1},Ne={class:"d-flex justify-space-between align-center"},De={key:1},Ae={class:"d-flex justify-space-between align-center"},Re={key:1},We={class:"d-flex justify-space-between align-center"},Fe={key:1},Ie={class:"d-flex justify-space-between align-center"},He={key:1},Oe={class:"d-flex justify-space-between align-center"},Ye={key:1},Le={class:"d-flex justify-space-between align-center"},qe={key:1},Ge={class:"d-flex justify-space-between align-center"},Pe={key:1},Qe={class:"box"},Je={class:"box"},Ke={class:"box"},Xe={__name:"OverviewView",setup(D){const m=v(!1),f=v(!1),p=v({successUsers:"-",failedUsers:"-",allUsers:"-",pendingsTransactions:"-",failedTransactions:"-",completeTransactions:"-",allTransActions:"-",allBuy:"-",allSell:"-",allWeight:"-",buyChart:{}}),y=v({startDate:"",startTime:"",endDate:"",endTime:""}),n=v({all:"-",sold:"-",bought:"-",allBalance:"-",succeedWithdraw:"-",inpersonBought:"-",inpersonSold:"-",phoneBought:"-",phoneSold:"-",REMMITANCEBought:"-",REMMITANCESold:"-",deposit:"-"}),w=v(""),b=v(!1),T=v({chart:{fontFamily:"YekanBakhFaNum"},title:{text:"حجم معاملات ماهانه صندوق طلا",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},xaxis:{categories:[]}}),C=v([{name:"میزان فروش صندوق طلا",data:[],color:"#d4af37"}]),B=v({chart:{fontFamily:"YekanBakhFaNum"},title:{text:"حجم معاملات روزانه صندوق طلا",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},stroke:{curve:"smooth",width:3},xaxis:{categories:[]},colors:["#FF3131","#008000"]}),j=v([{name:"میزان فروش صندوق طلا",data:[]}]),S=v({chart:{type:"pie",fontFamily:"YekanBakhFaNum"},title:{text:"احراز هویت کاربران",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},colors:["#fcc428","#d4af37"],labels:[]}),M=v([]),V=l=>l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),A=async()=>{try{m.value=!0;const l=await G.Dashboard();return p.value.allBuy=l.data.allBuy,p.value.allSell=l.data.allSell,p.value.allTransActions=l.data.allTransActions,p.value.allUsers=l.data.allUsers,p.value.allWeight=l.data.allWeight,p.value.completeTransactions=l.data.completeTransactions,p.value.failedTransactions=l.data.failedTransactions,p.value.failedUsers=l.data.failedUsers,p.value.pendingsTransactions=l.data.pendingsTransactions,p.value.successUsers=l.data.successUsers,p.value.buyChart=l.data.buyChart,T.value={...T.value,xaxis:{categories:l.data.barChart.label}},C.value=[{name:"فروش ماهانه صندوق طلا",data:l.data.barChart.data}],B.value={...B.value,xaxis:{categories:l.data.lineChart.label}},j.value=[{name:"فروش ماهانه صندوق طلا",data:l.data.lineChart[0].data},{name:"خرید ماهانه صندوق طلا",data:l.data.lineChart[1].data}],S.value={...S.value,labels:l.data.pieChart.label},M.value=l.data.pieChart.data,l}catch(l){l.response.status==401&&(localStorage.clear(),E.replace("/login")),w.value=l.response.data.msg||"خطایی رخ داده است!",b.value=!0,setTimeout(()=>{b.value=!1},1e4)}finally{m.value=!1}},R=async()=>{try{f.value=!0;const l=await L.ReportHour(y.value);return n.value.all=l.data.all,n.value.bought=l.data.bought,n.value.deposit=l.data.deposit,n.value.allBalance=l.data.allBalance,n.value.sold=l.data.sold,n.value.succeedWithdraw=l.data.succeedWithdraw,n.value.REMMITANCEBought=l.data.REMMITANCEBought,n.value.REMMITANCESold=l.data.REMMITANCESold,n.value.inpersonBought=l.data.inpersonBought,n.value.inpersonSold=l.data.inpersonSold,n.value.phoneBought=l.data.phoneBought,n.value.phoneSold=l.data.phoneSold,l}catch(l){l.response.status==401&&(localStorage.clear(),E.replace("/login")),w.value=l.response.data.error||"خطایی رخ داده است!",b.value=!0,setTimeout(()=>{b.value=!1},1e4)}finally{f.value=!1}};return I(()=>{A()}),(l,a)=>{const g=U("persian-date-picker"),z=U("apexchart");return t(),d(O,null,[s(h,null,{default:o(()=>[s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",P,[e("div",Q,[s(k,{icon:"ri-user-line",class:"icon"})]),e("div",J,[a[4]||(a[4]=e("p",null,"کاربران احراز شده",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",K,u(p.value.successUsers)+" نفر",1))]),e("div",X,[a[5]||(a[5]=e("p",null,"کاربران در انتظار",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Z,u(p.value.failedUsers)+" نفر",1))]),e("div",$,[a[6]||(a[6]=e("p",null,"همه کاربران",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",ee,u(p.value.allUsers)+" نفر",1))])])]),_:1}),s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",ae,[e("div",se,[s(k,{icon:"ri-p2p-line",class:"icon"})]),e("div",te,[a[7]||(a[7]=e("p",null,"معاملات موفق",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",le,u(p.value.completeTransactions)+" معامله",1))]),e("div",oe,[a[8]||(a[8]=e("p",null,"معاملات نامشخص",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",ne,u(p.value.pendingsTransactions)+" معامله",1))]),e("div",ie,[a[9]||(a[9]=e("p",null,"معاملات ناموفق",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",de,u(p.value.failedTransactions)+" معامله",1))])])]),_:1}),s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",re,[e("div",ue,[s(k,{icon:"ri-exchange-dollar-fill",class:"icon"})]),e("div",ce,[a[10]||(a[10]=e("p",null,"طلای خریداری شده",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",pe,u(p.value.allBuy)+" گرم",1))]),e("div",fe,[a[11]||(a[11]=e("p",null,"طلای فروخته شده",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",ve,u(p.value.allSell)+" گرم",1))]),e("div",me,[a[12]||(a[12]=e("p",null,"مجموع طلای معامله شده",-1)),m.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",ye,u(p.value.allWeight)+" گرم",1))])])]),_:1}),s(i,{cols:"12"},{default:o(()=>[e("div",_e,[e("div",he,[s(k,{icon:"ri-bar-chart-box-ai-line",class:"icon"})]),s(h,{class:"my-4"},{default:o(()=>[s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(g,{modelValue:y.value.startDate,"onUpdate:modelValue":a[0]||(a[0]=_=>y.value.startDate=_),placeholder:"از تاریخ",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(g,{modelValue:y.value.endDate,"onUpdate:modelValue":a[1]||(a[1]=_=>y.value.endDate=_),placeholder:"تا تاریخ",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(g,{type:"time",modelValue:y.value.startTime,"onUpdate:modelValue":a[2]||(a[2]=_=>y.value.startTime=_),placeholder:"از زمان",format:"HH:mm:ss",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"3",class:"my-2"},{default:o(()=>[s(g,{type:"time",modelValue:y.value.endTime,"onUpdate:modelValue":a[3]||(a[3]=_=>y.value.endTime=_),placeholder:"تا زمان",format:"HH:mm:ss",class:"custom-datepicker"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",be,[a[13]||(a[13]=e("p",null,"طلای فروخته شده:",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",ge,u(n.value.sold)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",ke,[a[14]||(a[14]=e("p",null,"طلای خریداری شده:",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",xe,u(n.value.bought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",we,[a[15]||(a[15]=e("p",null," مجموع موجودی های ریالی:",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Te,u(V(n.value.allBalance))+" تومان",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Be,[a[16]||(a[16]=e("p",null,"برداشت های تایید شده:",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Se,u(V(n.value.succeedWithdraw))+" تومان",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Ve,[a[17]||(a[17]=e("p",null,"مجموع واریزی ها:",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",ze,u(V(n.value.deposit))+" تومان",1))])]),_:1}),s(i,{cols:"12",md:"6",class:"my-2"},{default:o(()=>[e("div",Ce,[a[18]||(a[18]=e("p",null,"خالص طلای معامله شده:",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",je,u(n.value.all)+" گرم",1))])]),_:1}),s(i,{cols:"12"},{default:o(()=>[e("div",Me,[s(Y,{class:"px-8",color:"#b08c4d",onClick:R},{default:o(()=>a[19]||(a[19]=[N("محاسبه")])),_:1})])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ee,[a[20]||(a[20]=e("p",null,"خرید حضوری : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Ue,u(n.value.inpersonBought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ne,[a[21]||(a[21]=e("p",null,"فروش حضوری : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",De,u(n.value.inpersonSold)+" گرم",1))])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ae,[a[22]||(a[22]=e("p",null,"خرید آنلاین : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Re,u(n.value.bought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",We,[a[23]||(a[23]=e("p",null,"فروش آنلاین : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Fe,u(n.value.sold)+" گرم",1))])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ie,[a[24]||(a[24]=e("p",null,"خرید تلفنی : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",He,u(n.value.phoneBought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Oe,[a[25]||(a[25]=e("p",null,"فروش تلفنی : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Ye,u(n.value.phoneSold)+" گرم",1))])]),_:1})]),_:1}),s(x),s(h,{class:"my-2"},{default:o(()=>[s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Le,[a[26]||(a[26]=e("p",null,"خرید حواله ای : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",qe,u(n.value.REMMITANCEBought)+" گرم",1))])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Ge,[a[27]||(a[27]=e("p",null,"فروش فروش حواله ای : ",-1)),f.value?(t(),r(c,{key:0,color:"#d4af37",indeterminate:"",size:20})):(t(),d("p",Pe,u(n.value.REMMITANCESold)+" گرم",1))])]),_:1})]),_:1})])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Qe,[s(z,{width:"100%",type:"bar",options:T.value,series:C.value},null,8,["options","series"])])]),_:1}),s(i,{cols:"12",md:"6"},{default:o(()=>[e("div",Je,[s(z,{width:"100%",type:"line",options:B.value,series:j.value},null,8,["options","series"])])]),_:1}),s(i,{cols:"12",md:"4"},{default:o(()=>[e("div",Ke,[s(z,{width:"100%",type:"pie",options:S.value,series:M.value},null,8,["options","series"])])]),_:1})]),_:1}),b.value?(t(),r(q,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:o(()=>[N(u(w.value),1)]),_:1})):H("",!0)],64)}}},ta=F(Xe,[["__scopeId","data-v-91efe3dc"]]);export{ta as default};
